<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–§–æ—Ä—É–º ‚Äî Robot Control API | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –æ–±—Å—É–∂–¥–µ–Ω–∏—è</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #1a1d23;
            color: #d4d6d9;
            line-height: 1.65;
        }

        .forum-header {
            background: linear-gradient(180deg, #252930 0%, #1e2128 100%);
            border-bottom: 2px solid #3d434e;
            padding: 16px 24px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 12px;
        }

        .forum-logo {
            font-size: 1.6em;
            font-weight: 700;
            color: #7eb8da;
        }

        .forum-nav {
            display: flex;
            gap: 20px;
        }

        .forum-nav a {
            color: #9ca3af;
            text-decoration: none;
        }

        .forum-nav a:hover {
            color: #7eb8da;
        }

        .breadcrumb {
            padding: 10px 24px;
            background: #22262d;
            color: #6b7280;
            font-size: 0.9em;
            border-bottom: 1px solid #2d323c;
        }

        .breadcrumb a {
            color: #7eb8da;
            text-decoration: none;
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 24px;
        }

        .forum-category {
            background: #252930;
            border: 1px solid #3d434e;
            border-radius: 8px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .forum-category-title {
            background: #2d323c;
            padding: 14px 20px;
            font-size: 1.15em;
            font-weight: 600;
            color: #e5e7eb;
            border-bottom: 1px solid #3d434e;
        }

        .forum-topic {
            display: flex;
            align-items: center;
            padding: 16px 20px;
            border-bottom: 1px solid #2d323c;
            text-decoration: none;
            color: inherit;
            transition: background 0.2s;
        }

        .forum-topic:hover {
            background: #2d323c;
        }

        .forum-topic:last-child {
            border-bottom: none;
        }

        .topic-icon {
            width: 40px;
            height: 40px;
            background: #3d434e;
            border-radius: 8px;
            margin-right: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
        }

        .topic-info {
            flex: 1;
        }

        .topic-title {
            font-weight: 600;
            color: #e5e7eb;
            margin-bottom: 4px;
        }

        .topic-meta {
            font-size: 0.85em;
            color: #6b7280;
        }

        .topic-stats {
            text-align: right;
            font-size: 0.85em;
            color: #6b7280;
        }

        /* –ü–æ—Å—Ç –Ω–∞ —Ñ–æ—Ä—É–º–µ */
        .post {
            background: #252930;
            border: 1px solid #3d434e;
            border-radius: 8px;
            margin-bottom: 20px;
            overflow: hidden;
            display: flex;
        }

        .post-sidebar {
            width: 180px;
            min-width: 180px;
            background: #1e2128;
            padding: 20px;
            border-right: 1px solid #3d434e;
            text-align: center;
        }

        .post-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: #3d434e;
            margin: 0 auto 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            color: #6b7280;
        }

        .post-username {
            font-weight: 600;
            color: #e5e7eb;
            margin-bottom: 4px;
        }

        .post-role {
            font-size: 0.8em;
            color: #7eb8da;
            margin-bottom: 12px;
        }

        .post-date {
            font-size: 0.8em;
            color: #6b7280;
        }

        .post-messages {
            font-size: 0.8em;
            color: #6b7280;
            margin-top: 8px;
        }

        .post-body {
            flex: 1;
            padding: 24px;
        }

        .post-body h2 {
            font-size: 1.4em;
            color: #e5e7eb;
            margin-bottom: 16px;
            padding-bottom: 10px;
            border-bottom: 1px solid #3d434e;
        }

        .post-body h3 {
            font-size: 1.15em;
            color: #d4d6d9;
            margin: 20px 0 10px;
        }

        .post-body p {
            margin-bottom: 14px;
            color: #b8bcc4;
            text-align: justify;
        }

        .post-signature {
            margin-top: 24px;
            padding-top: 16px;
            border-top: 1px dashed #3d434e;
            font-size: 0.9em;
            color: #6b7280;
            font-style: italic;
        }

        /* –ë–ª–æ–∫ –∫–æ–¥–∞ –Ω–∞ —Ñ–æ—Ä—É–º–µ */
        .code-section {
            background: #1a1d23;
            border: 1px solid #3d434e;
            border-radius: 8px;
            margin: 24px 0;
            overflow: hidden;
        }

        .code-section-header {
            background: #2d323c;
            padding: 12px 20px;
            font-weight: 600;
            color: #7eb8da;
            border-bottom: 1px solid #3d434e;
            font-family: 'Consolas', monospace;
        }

        .full-code-block {
            background: #0d1117;
            color: #c9d1d9;
            padding: 20px;
            overflow-x: auto;
            font-family: 'Consolas', 'Courier New', monospace;
            font-size: 0.82em;
            line-height: 1.5;
            max-height: 600px;
            overflow-y: auto;
            white-space: pre;
        }

        .forum-divider {
            height: 2px;
            background: linear-gradient(90deg, transparent, #3d434e, transparent);
            margin: 32px 0;
        }

        .forum-page-title {
            font-size: 1.8em;
            color: #e5e7eb;
            margin-bottom: 8px;
        }

        .forum-page-desc {
            color: #6b7280;
            margin-bottom: 24px;
        }

        .info-box {
            background: #1e2a35;
            border-left: 4px solid #7eb8da;
            padding: 16px 20px;
            margin: 20px 0;
            border-radius: 4px;
            color: #b8bcc4;
        }

        .announce-sticky {
            background: #2d323c;
            border: 1px solid #7eb8da;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 24px;
        }

        .announce-sticky .topic-title {
            color: #7eb8da;
        }

        ul.features-list {
            list-style: none;
            padding: 0;
        }

        .features-list li {
            padding: 8px 0 8px 28px;
            position: relative;
            color: #b8bcc4;
        }

        .features-list li:before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: #6ee7b7;
            font-weight: bold;
        }

        code {
            background: #1e2128;
            color: #7eb8da;
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'Consolas', monospace;
            font-size: 0.9em;
        }

        @media (max-width: 768px) {
            .post {
                flex-direction: column;
            }
            .post-sidebar {
                width: 100%;
                display: flex;
                align-items: center;
                gap: 16px;
                text-align: left;
            }
            .post-avatar {
                margin: 0;
                width: 56px;
                height: 56px;
                font-size: 1.4em;
            }
        }
    </style>
</head>
<body>
    <header class="forum-header">
        <div class="forum-logo">ü§ñ Robot Control ‚Äî –§–æ—Ä—É–º</div>
        <nav class="forum-nav">
            <a href="#main">–ì–ª–∞–≤–Ω–∞—è</a>
            <a href="#docs">–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</a>
            <a href="#code">–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥</a>
            <a href="#faq">FAQ</a>
        </nav>
    </header>

    <div class="breadcrumb">
        <a href="#">–§–æ—Ä—É–º</a> ‚Üí <a href="#">Robot Control API</a> ‚Üí –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –æ–±—Å—É–∂–¥–µ–Ω–∏—è
    </div>

    <div class="container">
        <h1 class="forum-page-title">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ —Ñ–æ—Ä—É–º Robot Control API</h1>
        <p class="forum-page-desc">–ó–¥–µ—Å—å –≤—ã –Ω–∞–π–¥—ë—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é, –æ–±—Å—É–∂–¥–µ–Ω–∏—è –∏ –ø–æ–ª–Ω—ã–π –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è 6-–æ—Å–µ–≤—ã–º —Ä–æ–±–æ—Ç–æ–º –Ω–∞ PyQt5.</p>

        <div class="forum-category">
            <div class="forum-category-title">üìå –í–∞–∂–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</div>
            <a href="#overview" class="forum-topic">
                <div class="topic-icon">üìÑ</div>
                <div class="topic-info">
                    <div class="topic-title">–û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞ –∏ –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç ‚Äî —á—Ç–æ —ç—Ç–æ –∑–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ —Å —á–µ–≥–æ –Ω–∞—á–∞—Ç—å</div>
                    <div class="topic-meta">–ê–≤—Ç–æ—Ä: RobotDev ¬∑ 15 —è–Ω–≤ 2025 ¬∑ 127 –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤</div>
                </div>
                <div class="topic-stats">12 —Å–æ–æ–±—â–µ–Ω–∏–π</div>
            </a>
            <a href="#code" class="forum-topic announce-sticky">
                <div class="topic-icon">üíª</div>
                <div class="topic-info">
                    <div class="topic-title">–ü–æ–ª–Ω—ã–π –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥: main.py –∏ ui.py ‚Äî –≤—Å—è –ª–æ–≥–∏–∫–∞ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ</div>
                    <div class="topic-meta">–ó–∞–∫—Ä–µ–ø–ª–µ–Ω–æ ¬∑ –ò—Å—Ö–æ–¥–Ω–∏–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞</div>
                </div>
                <div class="topic-stats">1 —Å–æ–æ–±—â–µ–Ω–∏–µ</div>
            </a>
        </div>

        <div class="forum-category">
            <div class="forum-category-title">üí¨ –û–±—Å—É–∂–¥–µ–Ω–∏—è –∏ –ø–æ–º–æ—â—å</div>
            <a href="#api" class="forum-topic">
                <div class="topic-icon">üîß</div>
                <div class="topic-info">
                    <div class="topic-title">API Reference: –∫–ª–∞—Å—Å Ui_Main, –º–µ—Ç–æ–¥—ã button_click, change_cords, updates, mot1‚Äìmot6</div>
                    <div class="topic-meta">–ê–≤—Ç–æ—Ä: RobotDev ¬∑ 14 —è–Ω–≤ 2025 ¬∑ 89 –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤</div>
                </div>
                <div class="topic-stats">8 —Å–æ–æ–±—â–µ–Ω–∏–π</div>
            </a>
        </div>

        <!-- –ü–æ—Å—Ç 1: –û–±–∑–æ—Ä -->
        <div id="overview" class="post">
            <div class="post-sidebar">
                <div class="post-avatar">üë§</div>
                <div class="post-username">RobotDev</div>
                <div class="post-role">–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫</div>
                <div class="post-date">15 —è–Ω–≤ 2025, 10:32</div>
                <div class="post-messages">–°–æ–æ–±—â–µ–Ω–∏–π: 42</div>
            </div>
            <div class="post-body">
                <h2>–û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞ Robot Control API –∏ –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç</h2>
                <p>–î–æ–±—Ä—ã–π –¥–µ–Ω—å –≤—Å–µ–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º —Ñ–æ—Ä—É–º–∞! –†–µ—à–∏–ª –æ—Ç–∫—Ä—ã—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é —Ç–µ–º—É, –≤ –∫–æ—Ç–æ—Ä–æ–π –∫—Ä–∞—Ç–∫–æ (–∏ –Ω–µ –æ—á–µ–Ω—å –∫—Ä–∞—Ç–∫–æ) —Ä–∞—Å—Å–∫–∞–∂—É –ø—Ä–æ –Ω–∞—à –ø—Ä–æ–µ–∫—Ç ‚Äî –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è 6-–æ—Å–µ–≤—ã–º —Ä–æ–±–æ—Ç–æ–º-–º–∞–Ω–∏–ø—É–ª—è—Ç–æ—Ä–æ–º. –ú–Ω–æ–≥–∏–µ —Å–ø—Ä–∞—à–∏–≤–∞—é—Ç –≤ –ª–∏—á–∫—É –∏ –≤ –¥—Ä—É–≥–∏—Ö —Ç–µ–º–∞—Ö: —á—Ç–æ —ç—Ç–æ –∑–∞ —Å–æ—Ñ—Ç, –Ω–∞ —á—ë–º –Ω–∞–ø–∏—Å–∞–Ω–æ, –∫–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏ —Å —á–µ–≥–æ –Ω–∞—á–∞—Ç—å. –ß—Ç–æ–±—ã –Ω–µ –ø–æ–≤—Ç–æ—Ä—è—Ç—å—Å—è, —Å–æ–±—Ä–∞–ª –≤—Å—ë –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ. –ï—Å–ª–∏ –ø–æ—Å–ª–µ –ø—Ä–æ—á—Ç–µ–Ω–∏—è –æ—Å—Ç–∞–Ω—É—Ç—Å—è –≤–æ–ø—Ä–æ—Å—ã ‚Äî –ø–∏—à–∏—Ç–µ –≤ —ç—Ç—É –∂–µ —Ç–µ–º—É –∏–ª–∏ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –Ω–æ–≤—É—é –≤ —Ä–∞–∑–¥–µ–ª–µ ¬´–ü–æ–º–æ—â—å¬ª.</p>
                <p>–ò—Ç–∞–∫, Robot Control API ‚Äî —ç—Ç–æ –¥–µ—Å–∫—Ç–æ–ø–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Python —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ PyQt5. –û–Ω–æ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–æ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–º (–∏–ª–∏ —É—á–µ–±–Ω—ã–º) 6-–æ—Å–µ–≤—ã–º —Ä–æ–±–æ—Ç–æ–º —á–µ—Ä–µ–∑ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å. –¢–æ –µ—Å—Ç—å –≤—ã –≤–∏–¥–∏—Ç–µ –æ–∫–æ—à–∫–æ —Å –∫–Ω–æ–ø–∫–∞–º–∏, —Å–ª–∞–π–¥–µ—Ä–∞–º–∏, —Ç–∞–±–ª–∏—Ü–∞–º–∏ –∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏, –∞ –Ω–µ –∫–æ–Ω—Å–æ–ª—å —Å –∫–æ–º–∞–Ω–¥–∞–º–∏. –≠—Ç–æ —É–¥–æ–±–Ω–æ –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ –∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏.</p>
                <p>–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤–∫–ª—é—á–∞—é—Ç: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —à–µ—Å—Ç—å—é –º–æ—Ç–æ—Ä–∞–º–∏ —á–µ—Ä–µ–∑ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–µ —Å–ª–∞–π–¥–µ—Ä—ã, –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ä–µ–∂–∏–º–∞–º–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç (–≥—Ä–∞–¥—É—Å—ã —Å—É—Å—Ç–∞–≤–æ–≤ J1‚ÄìJ6 –∏–ª–∏ –¥–µ–∫–∞—Ä—Ç–æ–≤—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã X, Y, Z, Rx, Ry, Rz), –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ä–æ–±–æ—Ç–∞ (–Ω–µ—Å–∫–æ–ª—å–∫–æ —Ü–≤–µ—Ç–æ–≤ ‚Äî –±–µ–ª—ã–π, —Å–∏–Ω–∏–π, –∑–µ–ª—ë–Ω—ã–π, –∂—ë–ª—Ç—ã–π, –∫—Ä–∞—Å–Ω—ã–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∂–∏–º–∞ –∏–ª–∏ –æ—à–∏–±–∫–∏), –∫–Ω–æ–ø–∫—É ¬´–°—Ç–∞—Ä—Ç/–°—Ç–æ–ø¬ª –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ä–∞–±–æ—Ç—ã, —Ç–∞–±–ª–∏—Ü—É —Å —Ç–µ–∫—É—â–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –º–æ—Ç–æ—Ä–æ–≤ (—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, —Ç–∏–∫–∏, —Ä–∞–¥–∏–∞–Ω—ã, –≥—Ä–∞–¥—É—Å—ã) –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∫–∞–∂–¥—ã–µ 50 –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥ –ø–æ —Ç–∞–π–º–µ—Ä—É, —á—Ç–æ–±—ã –¥–∞–Ω–Ω—ã–µ –Ω–µ ¬´–∑–∞–ª–∏–ø–∞–ª–∏¬ª.</p>
                <div class="info-box">
                    <strong>–û –ø—Ä–æ–µ–∫—Ç–µ:</strong> –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ PyQt5 –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–±–æ—Ç–æ–º-–º–∞–Ω–∏–ø—É–ª—è—Ç–æ—Ä–æ–º —Å –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º. –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ ‚Äî —Ñ–∞–π–ª <code>main.py</code>, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–ø–∏—Å–∞–Ω –≤ <code>ui.py</code> (—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –∏–∑ <code>ui.ui</code> —á–µ—Ä–µ–∑ pyuic5).
                </div>
                <h3>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª–∞—Å—Å–∞ Ui_Main</h3>
                <p>–ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Äî <code>Ui_Main</code>. –û–Ω –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç <code>QMainWindow</code> –∏ –æ—Ç <code>ui.Ui_MainWindow</code>. –í –Ω—ë–º —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä <code>__init__</code>, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ –°—Ç–∞—Ä—Ç/–°—Ç–æ–ø <code>button_click</code>, –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç <code>change_cords</code>, –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ <code>updates</code> –∏ —à–µ—Å—Ç—å –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è –º–æ—Ç–æ—Ä–æ–≤ <code>mot1</code>‚Äì<code>mot6</code>. –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –º–µ—Ç–æ–¥–∞ –µ—Å—Ç—å –≤ —Ä–∞–∑–¥–µ–ª–µ ¬´API Reference¬ª –Ω–∞ —Ñ–æ—Ä—É–º–µ.</p>
                <h3>–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç</h3>
                <p>–ß—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –Ω—É–∂–µ–Ω —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π Python 3 –∏ PyQt5. –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ –ø–∞–ø–∫–µ —Å –ø—Ä–æ–µ–∫—Ç–æ–º –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ: <code>python main.py</code>. –í –∫–æ–¥–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è —ç–∫–∑–µ–º–ø–ª—è—Ä <code>QApplication</code>, –≥–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ <code>Ui_Main()</code>, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è <code>window.show()</code> –∏ –∑–∞—Ç–µ–º <code>app.exec()</code> ‚Äî —Ç–∞–∫ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ü–∏–∫–ª –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π Qt. –û–∫–Ω–æ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ, –∏ –º–æ–∂–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–ª–∞–π–¥–µ—Ä–∞–º–∏ –∏ –∫–Ω–æ–ø–∫–∞–º–∏. –ù–∞ —ç—Ç–æ–º –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è; –¥–∞–ª—å—à–µ –∏–∑—É—á–∞–π—Ç–µ —Ä–∞–∑–¥–µ–ª —Å –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º –∏ API.</p>
                <div class="post-signature">‚Äî RobotDev. –ü–∏—à–∏—Ç–µ –≤–æ–ø—Ä–æ—Å—ã –≤ —Ç–µ–º—É –∏–ª–∏ –≤ –õ–°. –ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ —Å–º–æ—Ç—Ä–µ—Ç—å —Ä–∞–∑–¥–µ–ª ¬´–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥¬ª ‚Äî —Ç–∞–º –≤—ã–ª–æ–∂–µ–Ω –ø–æ–ª–Ω—ã–π main.py –∏ ui.py.</div>
            </div>
        </div>

        <div class="forum-divider"></div>

        <!-- –ü–æ—Å—Ç 2: –û—Ç–≤–µ—Ç —Å –µ—â—ë –≤–æ–¥–æ–π -->
        <div class="post">
            <div class="post-sidebar">
                <div class="post-avatar">üë§</div>
                <div class="post-username">–ù–æ–≤–∏—á–æ–∫_–ü–µ—Ç—è</div>
                <div class="post-role">–£—á–∞—Å—Ç–Ω–∏–∫</div>
                <div class="post-date">16 —è–Ω–≤ 2025, 14:20</div>
                <div class="post-messages">–°–æ–æ–±—â–µ–Ω–∏–π: 5</div>
            </div>
            <div class="post-body">
                <h2>Re: –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞ –∏ –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç</h2>
                <p>–ü—Ä–∏–≤–µ—Ç! –°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–¥—Ä–æ–±–Ω—ã–π –æ–±–∑–æ—Ä. –Ø —Ç–æ–ª—å–∫–æ –Ω–∞—á–∏–Ω–∞—é —Ä–∞–∑–±–∏—Ä–∞—Ç—å—Å—è —Å —Ä–æ–±–æ—Ç–∞–º–∏ –∏ PyQt, –ø–æ—ç—Ç–æ–º—É –¥–ª—è –º–µ–Ω—è —ç—Ç–∞ —Ç–µ–º–∞ –æ–∫–∞–∑–∞–ª–∞—Å—å –æ—á–µ–Ω—å –ø–æ–ª–µ–∑–Ω–æ–π. –•–æ—Ç–µ–ª —É—Ç–æ—á–Ω–∏—Ç—å: —É –º–µ–Ω—è Windows 10, Python 3.9 –∏ PyQt5 —Å—Ç–∞–≤–ª—é —á–µ—Ä–µ–∑ pip. –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–ø—É—Å—Ç–∏–ª main.py ‚Äî –æ–∫–Ω–æ –æ—Ç–∫—Ä—ã–ª–æ—Å—å, —Å–ª–∞–π–¥–µ—Ä—ã –¥–≤–∏–≥–∞—é—Ç—Å—è, –∫–Ω–æ–ø–∫–∞ –°—Ç–∞—Ä—Ç/–°—Ç–æ–ø –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è. –ù–æ –Ω–µ —Å–æ–≤—Å–µ–º –ø–æ–Ω—è—Ç–Ω–æ, –∫–∞–∫ –∏–º–µ–Ω–Ω–æ —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ —É—Ö–æ–¥—è—Ç –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Ä–æ–±–æ—Ç–∞ (–µ—Å–ª–∏ –æ–Ω –ø–æ–¥–∫–ª—é—á—ë–Ω). –¢–æ –µ—Å—Ç—å —ç—Ç–æ –ø–æ–∫–∞ —Ç–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±–µ–∑ —Å–≤—è–∑–∏ —Å –∂–µ–ª–µ–∑–æ–º, –∏–ª–∏ –≥–¥–µ-—Ç–æ –µ—Å—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞? –ó–∞—Ä–∞–Ω–µ–µ –±–ª–∞–≥–æ–¥–∞—Ä–µ–Ω –∑–∞ –æ—Ç–≤–µ—Ç.</p>
                <p>–ï—â—ë –≤–æ–ø—Ä–æ—Å: –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –µ—Å—Ç—å –∫–Ω–æ–ø–∫–∏ ¬´–≠–∫—Å—Ç—Ä–µ–Ω–Ω–æ–µ —Ç–æ—Ä–º–æ–∂–µ–Ω–∏–µ¬ª, ¬´–ø–∞—É–∑–∞¬ª, ¬´–í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –Ω–∞ —Å—Ç–∞—Ä—Ç¬ª, ¬´–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã –≤ —Ä—É—á–Ω–æ–º —Ä–µ–∂–∏–º–µ¬ª, ¬´–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã¬ª –∏ —Ç.–¥. –û–Ω–∏ –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ —É–∂–µ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –∫–∞–∫–∏–º-—Ç–æ –¥–µ–π—Å—Ç–≤–∏—è–º –∏–ª–∏ —ç—Ç–æ –∑–∞–≥–æ—Ç–æ–≤–∫–∏ –Ω–∞ –±—É–¥—É—â–µ–µ? –í –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ API —è –ø–æ–∫–∞ –≤–∏–¥–µ–ª —Ç–æ–ª—å–∫–æ button_click –¥–ª—è –°—Ç–∞—Ä—Ç/–°—Ç–æ–ø. –ë—É–¥—É —Ä–∞–¥, –µ—Å–ª–∏ –∫—Ç–æ-—Ç–æ –ø–æ–¥—Å–∫–∞–∂–µ—Ç –∏–ª–∏ –¥–∞—Å—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —Ä–∞–∑–¥–µ–ª, –≥–¥–µ —ç—Ç–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–æ.</p>
                <div class="post-signature">‚Äî –ù–æ–≤–∏—á–æ–∫_–ü–µ—Ç—è. –£—á—É—Å—å –ø–æ—Ç–∏—Ö–æ–Ω—å–∫—É.</div>
            </div>
        </div>

        <div class="post">
            <div class="post-sidebar">
                <div class="post-avatar">üë§</div>
                <div class="post-username">RobotDev</div>
                <div class="post-role">–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫</div>
                <div class="post-date">16 —è–Ω–≤ 2025, 18:45</div>
                <div class="post-messages">–°–æ–æ–±—â–µ–Ω–∏–π: 42</div>
            </div>
            <div class="post-body">
                <h2>Re: –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞ –∏ –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç</h2>
                <p>–ù–æ–≤–∏—á–æ–∫_–ü–µ—Ç—è, –ø—Ä–∏–≤–µ—Ç. –†–∞–¥, —á—Ç–æ –æ–±–∑–æ—Ä –ø—Ä–∏–≥–æ–¥–∏–ª—Å—è. –ü–æ —Ç–≤–æ–∏–º –≤–æ–ø—Ä–æ—Å–∞–º: –≤ —Ç–µ–∫—É—â–µ–π –æ—Ç–∫—Ä—ã—Ç–æ–π –≤–µ—Ä—Å–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –ª–æ–≥–∏–∫—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è ¬´–≤–Ω—É—Ç—Ä–∏¬ª –ø—Ä–æ–≥—Ä–∞–º–º—ã ‚Äî —Ç–æ –µ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –º–æ—Ç–æ—Ä–æ–≤ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –º–∞—Å—Å–∏–≤–µ <code>self.motors</code>, –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ –∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø–æ —Ç–∞–π–º–µ—Ä—É. –°–≤—è–∑—å —Å —Ä–µ–∞–ª—å–Ω—ã–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º (–ø–æ COM, Ethernet, Modbus –∏ —Ç.–¥.) –æ–±—ã—á–Ω–æ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–º —Å–ª–æ–µ–º: –≤ –º–µ—Ç–æ–¥–∞—Ö <code>mot1</code>‚Äì<code>mot6</code> –∏–ª–∏ –≤ <code>updates</code> –º–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–º–∞–Ω–¥ –Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Ä–æ–±–æ—Ç–∞. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è; –≤ –∫–æ–¥–µ, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ª–æ–∂–µ–Ω –Ω–∞ —Ñ–æ—Ä—É–º–µ –≤ —Ä–∞–∑–¥–µ–ª–µ ¬´–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥¬ª, —ç—Ç–æ–≥–æ —Å–ª–æ—è –ø–æ–∫–∞ –Ω–µ—Ç ‚Äî –µ–≥–æ –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.</p>
                <p>–ü–æ –ø–æ–≤–æ–¥—É –∫–Ω–æ–ø–æ–∫ ¬´–≠–∫—Å—Ç—Ä–µ–Ω–Ω–æ–µ —Ç–æ—Ä–º–æ–∂–µ–Ω–∏–µ¬ª, ¬´–ø–∞—É–∑–∞¬ª, ¬´–í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –Ω–∞ —Å—Ç–∞—Ä—Ç¬ª –∏ –¥—Ä—É–≥–∏—Ö: –¥–∞, —á–∞—Å—Ç—å –∏–∑ –Ω–∏—Ö –≤ ui.py —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—ë—Ç—Å—è (–≤–∏–¥–∂–µ—Ç—ã –µ—Å—Ç—å), –Ω–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤ main.py –≤ –ø—Ä–∏–º–µ—Ä–µ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –Ω–µ –∫–æ –≤—Å–µ–º. –°–µ–π—á–∞—Å —è–≤–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–Ω–æ–ø–∫–∞ –°—Ç–∞—Ä—Ç/–°—Ç–æ–ø (<code>pushButton_10</code> –∏ –º–µ—Ç–æ–¥ <code>button_click</code>). –û—Å—Ç–∞–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ ‚Äî –∑–∞–≥–æ—Ç–æ–≤–∫–∏ –ø–æ–¥ –±—É–¥—É—â—É—é –ª–æ–≥–∏–∫—É; –∏—Ö –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —á–µ—Ä–µ–∑ <code>.clicked.connect(...)</code> –≤ <code>__init__</code>. –ö–æ–≥–¥–∞ –±—É–¥–µ—Ç –≤—Ä–µ–º—è, –º–æ–≥—É —Ä–∞—Å–ø–∏—Å–∞—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ç–µ–º–µ, –∫–∞–∫ –ª—É—á—à–µ –ø–æ–≤–µ—Å–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞ —ç—Ç–∏ –∫–Ω–æ–ø–∫–∏. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ, —Å–æ–∑–¥–∞–π —Ç–µ–º—É –≤ ¬´–ü–æ–º–æ—â—å¬ª —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º —Ç–∏–ø–∞ ¬´–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ –ø–∞—É–∑—ã –∏ —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–≥–æ —Ç–æ—Ä–º–æ–∂–µ–Ω–∏—è¬ª ‚Äî —Ç—É–¥–∞ –∏ –æ—Ç–≤–µ—á—É.</p>
                <div class="post-signature">‚Äî RobotDev.</div>
            </div>
        </div>

        <div class="forum-divider"></div>

        <!-- –°–µ–∫—Ü–∏—è —Å –ø–æ–ª–Ω—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º -->
        <div id="code" class="forum-category-title" style="margin-top: 32px; margin-bottom: 16px;">üíª –ü–æ–ª–Ω—ã–π –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞</div>
        <p style="margin-bottom: 20px; color: #b8bcc4;">–ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥—ë–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–¥ –¥–≤—É—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤: <strong>main.py</strong> (—Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –∫–ª–∞—Å—Å—ã Log –∏ Ui_Main, –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è) –∏ <strong>ui.py</strong> (—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π PyQt5 UI-–º–æ–¥—É–ª—å —Å –∫–ª–∞—Å—Å–æ–º Ui_MainWindow –∏ —Ä–∞–∑–º–µ—Ç–∫–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞). –ú–æ–∂–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Å–≤–æ—ë–º –ø—Ä–æ–µ–∫—Ç–µ.</p>

        <div class="code-section">
            <div class="code-section-header">main.py ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (C:\Users\user\Desktop\robots\main.py)</div>
            <pre class="full-code-block" id="main-py-code"></pre>
        </div>
<script type="text/plain" id="main-py-raw">
import sys
import time
from datetime import datetime
from math import degrees, radians, cos, sin, pi
from PyQt5.QtCore import QTimer, Qt, QThread, pyqtSignal
from PyQt5.QtWidgets import (
    QApplication, QMainWindow, QTableWidgetItem, QFileDialog, QMessageBox,
    QTabWidget, QWidget, QVBoxLayout, QHBoxLayout, QLabel, QPushButton,
    QTextEdit, QLineEdit, QCheckBox, QGroupBox, QGridLayout)
from PyQt5.QtGui import QImage, QPixmap
import ui

try:
    from motion.core import RobotControl, Waypoint, LedLamp, SmartCamera
    from motion.robot_control import Modes, States, InterpreterStates, StateEvents, ModeCommands
    try:
        from motion.robot_control import InterpreterEvents
    except ImportError:
        InterpreterEvents = None
    HAS_MOTION_CORE = True
except ImportError:
    HAS_MOTION_CORE = False
    RobotControl = None
    Waypoint = None
    LedLamp = None
    SmartCamera = None
    Modes = None
    States = None
    InterpreterEvents = None
    InterpreterStates = None
    StateEvents = None
    ModeCommands = None


class ModesFallback:
    INIT_M = 0
    PAUSE_M = 1
    AUTO_RUN_M = 2
    MANUAL_JOINT_MODE_M = 3
    MANUAL_CART_MODE_M = 4
    SEMI_AUTO_M = 5
    TORQUE_M = 6
    MOVE_TO_START_M = 7


class InterpreterStatesFallback:
    PROGRAM_STOP_S = 0
    PROGRAM_RUN_S = 1
    PROGRAM_PAUSE_S = 2
    MOTION_NOT_ALLOWED_S = 3
    IN_TRANSITION = 100
    PROGRAM_IS_DONE = 200


if not HAS_MOTION_CORE:
    Modes = ModesFallback
    InterpreterStates = InterpreterStatesFallback


class RobotAPI:

    def __init__(self, robot_ip="192.168.2.100", lamp_ip="192.168.2.101", camera_ip="192.168.2.110"):
        self.robot_ip = robot_ip
        self.lamp_ip = lamp_ip
        self.camera_ip = camera_ip
        self._robot = None
        self._lamp = None
        self._camera = None
        self._connected = False
        self._engaged = False
        self._manual_enabled = False
        self._demo_mode = not HAS_MOTION_CORE
        if self._demo_mode:
            self._demo_tool = [0.24, -0.135, 0.24, pi/2, 0.0, pi]
            self._demo_joints = [0.0, 0.0, pi/2, 0.0, pi/2, 0.0]
            self._demo_ticks = [0] * 6
            self._demo_temp = [25.0] * 6
            self._demo_linear_track = [0.0]
            self._demo_tool_state = 0
            self._demo_mode_val = Modes.PAUSE_M
            self._demo_interpreter = InterpreterStates.PROGRAM_STOP_S
            self._demo_conveyer = False

    def is_demo_mode(self):
        return self._demo_mode

    def connect(self):
        if self._demo_mode:
            self._connected = True
            self._demo_mode_val = Modes.PAUSE_M
            self._demo_interpreter = InterpreterStates.PROGRAM_STOP_S
            return True
        try:
            self._robot = RobotControl(self.robot_ip)
            self._lamp = LedLamp(self.lamp_ip)
            self._camera = SmartCamera(self.camera_ip)
            if self._robot.connect():
                self._connected = True
                return True
        except Exception:
            pass
        return False

    def disengage(self):
        if self._demo_mode:
            self._connected = False
            self._engaged = False
            self._manual_enabled = False
            return True
        try:
            if self._robot:
                result = self._robot.disengage()
                self._connected = False
                self._engaged = False
                self._manual_enabled = False
                if self._lamp:
                    self._lamp.setLamp("0001")
                return result
        except Exception:
            pass
        return False

    def engage(self):
        if self._demo_mode:
            self._engaged = True
            return True
        try:
            if self._robot and self._connected:
                return self._robot.engage()
        except Exception:
            pass
        return False

    def manual_cart_mode(self):
        if self._demo_mode:
            self._demo_mode_val = Modes.MANUAL_CART_MODE_M
            return True
        try:
            return self._robot.manualCartMode()
        except Exception:
            return False

    def manual_joint_mode(self):
        if self._demo_mode:
            self._demo_mode_val = Modes.MANUAL_JOINT_MODE_M
            return True
        try:
            return self._robot.manualJointMode()
        except Exception:
            return False

    def set_cartesian_velocity(self, velocity):
        if self._demo_mode:
            for i in range(min(6, len(velocity))):
                self._demo_tool[i] = self._demo_tool[i] + velocity[i] * 0.1
            return True
        try:
            return self._robot.setCartesianVelocity(velocity)
        except Exception:
            return False

    def set_joint_velocity(self, velocity):
        if self._demo_mode:
            for i in range(min(6, len(velocity))):
                self._demo_joints[i] = self._demo_joints[i] + velocity[i] * 0.1
            return True
        try:
            return self._robot.setJointVelocity(velocity)
        except Exception:
            return False

    def set_linear_track_velocity(self, velocity):
        if self._demo_mode:
            self._demo_linear_track[0] = self._demo_linear_track[0] + velocity[0] * 0.1
            return True
        try:
            return self._robot.setLinearTrackVelocity(velocity)
        except Exception:
            return False

    def move_to_initial_pose(self):
        if self._demo_mode:
            self._demo_joints = [0.0, 0.0, pi/2, 0.0, pi/2, 0.0]
            self._demo_linear_track = [0.0]
            return True
        try:
            return self._robot.moveToInitialPose()
        except Exception:
            return False

    def activate_move_to_start(self):
        if self._demo_mode:
            self._demo_interpreter = InterpreterStates.PROGRAM_RUN_S
            return True
        try:
            return self._robot.activateMoveToStart()
        except Exception:
            return False

    def play(self):
        if self._demo_mode:
            self._demo_mode_val = Modes.AUTO_RUN_M
            self._demo_interpreter = InterpreterStates.PROGRAM_RUN_S
            return True
        try:
            return self._robot.play()
        except Exception:
            return False

    def pause(self):
        if self._demo_mode:
            self._demo_mode_val = Modes.PAUSE_M
            self._demo_interpreter = InterpreterStates.PROGRAM_PAUSE_S
            return True
        try:
            return self._robot.pause()
        except Exception:
            return False

    def stop(self):
        if self._demo_mode:
            self._demo_mode_val = Modes.PAUSE_M
            self._demo_interpreter = InterpreterStates.PROGRAM_STOP_S
            return True
        try:
            return self._robot.stop()
        except Exception:
            return False

    def reset(self):
        if self._demo_mode:
            self._demo_interpreter = InterpreterStates.PROGRAM_STOP_S
            return True
        try:
            return self._robot.reset()
        except Exception:
            return False

    def get_robot_mode(self):
        if self._demo_mode:
            return self._demo_mode_val
        try:
            return self._robot.getRobotMode()
        except Exception:
            return Modes.PAUSE_M

    def get_robot_state(self):
        if self._demo_mode:
            return 4
        try:
            return self._robot.getRobotState()
        except Exception:
            return 4

    def get_actual_state_out(self):
        if self._demo_mode:
            return self._demo_interpreter
        try:
            return self._robot.getActualStateOut()
        except Exception:
            return InterpreterStates.PROGRAM_STOP_S

    def get_tool_position(self):
        if self._demo_mode:
            return list(self._demo_tool)
        try:
            return self._robot.getToolPosition()
        except Exception:
            return [0.0] * 6

    def get_motor_position_radians(self):
        if self._demo_mode:
            return list(self._demo_joints)
        try:
            return self._robot.getMotorPositionRadians()
        except Exception:
            return [0.0] * 6

    def get_motor_position_tick(self):
        if self._demo_mode:
            return list(self._demo_ticks)
        try:
            return self._robot.getMotorPositionTick()
        except Exception:
            return [0] * 6

    def get_actual_temperature(self):
        if self._demo_mode:
            return list(self._demo_temp)
        try:
            return self._robot.getActualTemperature()
        except Exception:
            return [0.0] * 6

    def get_tool_state(self):
        if self._demo_mode:
            return self._demo_tool_state
        try:
            return self._robot.getToolState()
        except Exception:
            return 0

    def get_linear_track_position(self):
        if self._demo_mode:
            return list(self._demo_linear_track)
        try:
            return self._robot.getLinearTrackPosition()
        except Exception:
            return [0.0]

    def set_lamp(self, status):
        if self._demo_mode:
            return True
        try:
            if self._lamp:
                return self._lamp.setLamp(status)
        except Exception:
            pass
        return False

    def conveyer_start(self):
        if self._demo_mode:
            self._demo_conveyer = True
            return True
        try:
            return self._robot.conveyer_start()
        except Exception:
            return False

    def conveyer_stop(self):
        if self._demo_mode:
            self._demo_conveyer = False
            return True
        try:
            return self._robot.conveyer_stop()
        except Exception:
            return False

    def tool_on(self):
        if self._demo_mode:
            self._demo_tool_state = 1
            return True
        try:
            return self._robot.toolON()
        except Exception:
            return False

    def tool_off(self):
        if self._demo_mode:
            self._demo_tool_state = 0
            return True
        try:
            return self._robot.toolOFF()
        except Exception:
            return False

    def get_person(self):
        if self._demo_mode:
            return 0
        try:
            if self._camera:
                return self._camera.getPerson()
        except Exception:
            pass
        return 0

    def add_move_to_point_l(self, waypoint_list):
        if self._demo_mode:
            return True
        try:
            return self._robot.addMoveToPointL(waypoint_list)
        except Exception:
            return False

    def add_move_to_point_j(self, waypoint_list):
        if self._demo_mode:
            return True
        try:
            return self._robot.addMoveToPointJ(waypoint_list)
        except Exception:
            return False

    def add_linear_track_move(self, position):
        if self._demo_mode:
            self._demo_linear_track = [position]
            return True
        try:
            return self._robot.addLinearTrackMove(position)
        except Exception:
            return False

    def add_tool_state(self, value):
        if self._demo_mode:
            self._demo_tool_state = value
            return True
        try:
            return self._robot.addToolState(value)
        except Exception:
            return False

    def add_wait(self, wait_time):
        if self._demo_mode:
            time.sleep(wait_time)
            return True
        try:
            return self._robot.addWait(wait_time)
        except Exception:
            return False

    def add_conveyer_state(self, value):
        if self._demo_mode:
            self._demo_conveyer = value == 1
            return True
        try:
            return self._robot.addConveyerState(value)
        except Exception:
            return False

    def is_connected(self):
        return self._connected

    def is_engaged(self):
        return self._engaged

    def set_manual_enabled(self, enabled):
        self._manual_enabled = enabled

    def is_manual_enabled(self):
        return self._manual_enabled


def waypoint_from_pose(pose):
    if not HAS_MOTION_CORE or Waypoint is None:
        return None
    return Waypoint(pose)

try:
    import cv2
    HAS_OPENCV = True
except ImportError:
    HAS_OPENCV = False

try:
    from ultralytics import YOLO
    HAS_YOLO = True
except ImportError:
    HAS_YOLO = False
    YOLO = None


def time_str():
    return datetime.now().strftime("%H:%M:%S")


class Log:
    def __init__(self):
        self.logs = []
        self.errors = []

    def add_logs(self, msg):
        self.logs.append(msg)

    def add_errors(self, msg):
        self.errors.append(msg)
        self.logs.append(msg)

    def add_logs_with_time(self, msg):
        self.logs.append(time_str() + " " + msg)

    def get_logs(self):
        return "\n".join(self.logs)

    def get_errors(self):
        return "\n".join(self.errors)


class VideoWorker(QThread):
    frame_ready = pyqtSignal(object)
    detection_ready = pyqtSignal(dict)
    camera_error = pyqtSignal(str)

    def __init__(self, parent=None):
        super().__init__(parent)
        self._running = False
        self._detect = False
        self._defect = False
        self._use_yolo = False
        self._classes = {"red": True, "green": True, "blue": True}
        self._cap = None
        self._yolo_model = None

    def set_running(self, v):
        self._running = v

    def set_detect(self, v):
        self._detect = v

    def set_defect(self, v):
        self._defect = v

    def set_use_yolo(self, v):
        self._use_yolo = v and HAS_YOLO

    def set_classes(self, d):
        self._classes = d

    def _ensure_yolo(self):
        if not HAS_YOLO or self._yolo_model is not None:
            return
        try:
            self._yolo_model = YOLO("yolov8n.pt")
        except Exception:
            self._yolo_model = False

    def _largest_contour_rect(self, mask):
        res = cv2.findContours(mask, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)
        cnts = res[0] if len(res) == 2 else res[1]
        if not cnts:
            return None, 0.0
        largest = max(cnts, key=cv2.contourArea)
        area = cv2.contourArea(largest)
        if area < 500:
            return None, 0.0
        x, y, w, h = cv2.boundingRect(largest)
        h_frame, w_frame = mask.shape[:2]
        area_ratio = area / (w_frame * h_frame)
        return (x, y, x + w, y + h), min(1.0, area_ratio * 10)

    def run(self):
        if not HAS_OPENCV:
            return
        self._cap = cv2.VideoCapture(0)
        if not self._cap.isOpened() and HAS_OPENCV:
            try:
                self._cap = cv2.VideoCapture(0, cv2.CAP_DSHOW)
            except Exception:
                pass
        if not self._cap or not self._cap.isOpened():
            self.camera_error.emit("–Ω–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–∫—Ä—ã—Ç—å –∫–∞–º–µ—Ä—É, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞.")
            return
        if self._use_yolo:
            self._ensure_yolo()
        while self._running and self._cap.isOpened():
            ret, frame = self._cap.read()
            if not ret:
                continue
            if self._use_yolo and self._yolo_model is None:
                self._ensure_yolo()
            frame_bgr = frame
            out = frame.copy()
            det = {"class": None, "iou": 0.0}
            if self._use_yolo and self._yolo_model:
                try:
                    results = self._yolo_model(frame_bgr, verbose=False)
                    out = results[0].plot()
                    for box in results[0].boxes:
                        cls_id = int(box.cls[0])
                        conf = float(box.conf[0])
                        name = results[0].names.get(cls_id, "?")
                        det = {"class": name, "iou": conf}
                        break
                except Exception:
                    pass
            elif self._detect:
                h, w = frame_bgr.shape[:2]
                frame_hsv = cv2.cvtColor(frame_bgr, cv2.COLOR_BGR2HSV)
                best_rect = None
                best_class = None
                best_iou = 0.0
                if self._classes.get("red"):
                    low = (0, 100, 100)
                    high = (10, 255, 255)
                    mask1 = cv2.inRange(frame_hsv, low, high)
                    low2 = (170, 100, 100)
                    high2 = (180, 255, 255)
                    mask2 = cv2.inRange(frame_hsv, low2, high2)
                    mask = cv2.bitwise_or(mask1, mask2)
                    rect, iou = self._largest_contour_rect(mask)
                    if rect is not None and iou > best_iou:
                        best_rect, best_class, best_iou = rect, "red", iou
                if self._classes.get("green"):
                    low = (35, 100, 100)
                    high = (85, 255, 255)
                    mask = cv2.inRange(frame_hsv, low, high)
                    rect, iou = self._largest_contour_rect(mask)
                    if rect is not None and iou > best_iou:
                        best_rect, best_class, best_iou = rect, "green", iou
                if self._classes.get("blue"):
                    low = (100, 100, 100)
                    high = (130, 255, 255)
                    mask = cv2.inRange(frame_hsv, low, high)
                    rect, iou = self._largest_contour_rect(mask)
                    if rect is not None and iou > best_iou:
                        best_rect, best_class, best_iou = rect, "blue", iou
                if self._defect:
                    low = (0, 0, 0)
                    high = (180, 80, 80)
                    mask = cv2.inRange(frame_hsv, low, high)
                    rect, iou = self._largest_contour_rect(mask)
                    if rect is not None and iou > best_iou and iou > 0.02:
                        best_rect, best_class, best_iou = rect, "–±—Ä–∞–∫", max(iou, 0.5)
                if best_rect is not None and best_class is not None:
                    det = {"class": best_class, "iou": best_iou}
                    x1, y1, x2, y2 = best_rect
                    cv2.rectangle(out, (x1, y1), (x2, y2), (0, 255, 0), 2)
                    cv2.putText(out, best_class, (x1, y1 - 5), cv2.FONT_HERSHEY_SIMPLEX, 0.6, (0, 255, 0), 2)
                    cv2.putText(out, "IoU:%.2f" % best_iou, (x1, y2 + 18), cv2.FONT_HERSHEY_SIMPLEX, 0.5, (255, 255, 0), 1)
            out = cv2.cvtColor(out, cv2.COLOR_BGR2RGB)
            qimg = QImage(out.data, out.shape[1], out.shape[0], out.strides[0], QImage.Format_RGB888)
            self.frame_ready.emit(qimg)
            self.detection_ready.emit(det)
            self.msleep(33)
        if self._cap:
            self._cap.release()


class Ui_Main(QMainWindow, ui.Ui_MainWindow):
    def __init__(self):
        super().__init__()
        self.turnon = False
        self.color = 0
        self.motors = [0, 0, 0, 0, 0, 0]
        self.manual_started = False
        self.paused = False
        self.emergency = False
        self.move_l_mode = True
        self.stats_count = [0, 0, 0, 0]
        self.stats_time = ["", "", "", ""]
        self.api = RobotAPI()
        self.log = Log()
        self.move_list = []
        self.cells_filled = [0, 0, 0, 0]
        self.cells_max = 5
        self.auto_by_points_running = False
        self.full_auto_running = False
        self.empty_list_wait_sec = 0
        self.no_object_sec = 0
        self.last_detected_class = None
        self.log_b = []
        self.log_c = []
        self.video_worker = VideoWorker(self)
        self.video_worker.frame_ready.connect(self.on_video_frame)
        self.video_worker.detection_ready.connect(self.on_detection)
        self.video_worker.camera_error.connect(self.on_camera_error)

        self.setupUi(self)
        self.centralwidget.setMinimumSize(1280, 800)

        wrap_a = QWidget()
        lay_a = QVBoxLayout(wrap_a)
        lay_a.addWidget(self.centralwidget)
        self.label_tool_pose = QLabel("‚Äî")
        self.label_tool_pose.setWordWrap(True)
        lay_a.addWidget(QLabel("Actual tool pose (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –†–ò, —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å—Ö–≤–∞—Ç–∞):"))
        lay_a.addWidget(self.label_tool_pose)
        row_path = QHBoxLayout()
        row_path.addWidget(QLabel("–ü—É—Ç—å –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ª–æ–≥–æ–≤:"))
        self.edit_log_path = QLineEdit()
        self.edit_log_path.setPlaceholderText("C:\\–ø—É—Ç—å\\–∫\\—Ñ–∞–π–ª—É.txt")
        row_path.addWidget(self.edit_log_path)
        lay_a.addLayout(row_path)

        self.tabs = QTabWidget()
        self.tabs.addTab(wrap_a, "–†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ")
        self.tab_b = self._build_tab_b()
        self.tabs.addTab(self.tab_b, "–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø–∞—Ä–≤–ª–µ–Ω–∏–µ")
        self.tab_c = self._build_tab_c()
        self.tabs.addTab(self.tab_c, "–ö–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–µ –∑—Ä–µ–Ω–∏–µ –∏ –∏–∏")
        self.setCentralWidget(self.tabs)

        self.tableWidget_2.itemChanged.connect(self.on_stats_count_edited)

        self.pushButton_10.clicked.connect(self.button_click)
        self.comboBox.currentTextChanged.connect(self.change_cords)
        self.pushButton.clicked.connect(self.button_pause)
        self.pushButton_2.clicked.connect(self.button_emergency)
        self.pushButton_3.clicked.connect(self.button_return_start)
        self.pushButton_4.clicked.connect(self.button_manual)
        self.pushButton_5.clicked.connect(self.button_save_state)
        self.pushButton_6.clicked.connect(lambda: self.stats_plus(0))
        self.pushButton_7.clicked.connect(lambda: self.stats_plus(1))
        self.pushButton_8.clicked.connect(lambda: self.stats_plus(2))
        self.pushButton_9.clicked.connect(lambda: self.stats_plus(3))
        self.checkBox.stateChanged.connect(self.check_gripper)
        self.checkBox_2.stateChanged.connect(self.check_conveyor)
        self.sliders_list = [
            self.horizontalSlider, self.horizontalSlider_2, self.horizontalSlider_3,
            self.horizontalSlider_6, self.horizontalSlider_4, self.horizontalSlider_5
        ]
        for i, s in enumerate([self.horizontalSlider, self.horizontalSlider_2, self.horizontalSlider_3, self.horizontalSlider_6, self.horizontalSlider_4, self.horizontalSlider_5]):
            s.valueChanged.connect(lambda v, idx=i: self._set_motor(idx, v))
        self.timer = QTimer(self)
        self.timer.timeout.connect(self.updates)
        self.timer.start(50)
        self.pushButton_10.setText("–í–∫–ª")
        self.pushButton.setEnabled(False)
        self.pushButton_3.setEnabled(False)
        self.pushButton_4.setEnabled(False)
        for sl in self.sliders_list:
            sl.setMinimum(-180)
            sl.setMaximum(180)
            sl.setValue(0)
            sl.setEnabled(False)
        self.tableWidget.setColumnCount(5)
        self.tableWidget.setHorizontalHeaderItem(3, QTableWidgetItem("–ó–∞–¥–∞–Ω–æ (¬∞)"))
        self.tableWidget.setHorizontalHeaderItem(4, QTableWidgetItem("–ì—Ä–∞–¥—É—Å—ã (—Ñ–∞–∫—Ç)"))
        for i in range(6):
            self.tableWidget.setItem(i, 3, QTableWidgetItem("0"))
            self.tableWidget.setItem(i, 4, QTableWidgetItem("0"))

        self.velocity_timer = QTimer(self)
        self.velocity_timer.timeout.connect(self.send_velocity)
        self.velocity_timer.start(100)

        self.log.add_logs_with_time("–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ.")

    def _build_tab_b(self):
        w = QWidget()
        lay = QVBoxLayout(w)
        g = QGroupBox("–°–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–∞ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ")
        gl = QVBoxLayout(g)
        gl.addWidget(QLabel("–¢–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ —Å–ø–∏—Å–∫–∞ (–æ—á–µ—Ä–µ–¥—å –∫–∞—Ç–µ–≥–æ—Ä–∏–π):"))
        self.list_edit_b = QTextEdit()
        self.list_edit_b.setMaximumHeight(70)
        self.list_edit_b.setReadOnly(True)
        gl.addWidget(self.list_edit_b)
        row_bt = QHBoxLayout()
        self.btn_add_red_b = QPushButton("–î–æ–±–∞–≤–∏—Ç—å –∫—Ä–∞—Å–Ω—ã–π")
        self.btn_add_red_b.clicked.connect(lambda: self.add_to_list_b("red"))
        row_bt.addWidget(self.btn_add_red_b)
        self.btn_add_green_b = QPushButton("–¥–æ–±–∞–≤–∏—Ç—å –∑–µ–ª—ë–Ω—ã–π")
        self.btn_add_green_b.clicked.connect(lambda: self.add_to_list_b("green"))
        row_bt.addWidget(self.btn_add_green_b)
        self.btn_add_blue_b = QPushButton("–¥–æ–±–∞–≤–∏—Ç—å —Å–∏–Ω–∏–π")
        self.btn_add_blue_b.clicked.connect(lambda: self.add_to_list_b("blue"))
        row_bt.addWidget(self.btn_add_blue_b)
        self.btn_add_brak_b = QPushButton("–¥–æ–±–∞–≤–∏—Ç—å –±—Ä–∞–∫")
        self.btn_add_brak_b.clicked.connect(lambda: self.add_to_list_b("–±—Ä–∞–∫"))
        row_bt.addWidget(self.btn_add_brak_b)
        self.btn_del_last_b = QPushButton("—É–¥–∞–ª–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç")
        self.btn_del_last_b.clicked.connect(self.del_last_b)
        row_bt.addWidget(self.btn_del_last_b)
        self.btn_clear_b = QPushButton("–æ—á–∏—Å—Ç–∏—Ç—å —Å–ø–∏—Å–æ–∫")
        self.btn_clear_b.clicked.connect(self.clear_list_b)
        row_bt.addWidget(self.btn_clear_b)
        gl.addLayout(row_bt)
        lay.addWidget(g)
        row_sess = QHBoxLayout()
        row_sess.addWidget(QLabel("–ø—É—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏:"))
        self.edit_session_path = QLineEdit()
        self.edit_session_path.setPlaceholderText("C:\\–ø—É—Ç—å\\session.txt")
        row_sess.addWidget(self.edit_session_path)
        self.btn_save_session = QPushButton("—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–µ—Å—Å–∏—é –≤ —Ñ–∞–π–ª")
        self.btn_save_session.clicked.connect(self.save_session_b)
        row_sess.addWidget(self.btn_save_session)
        lay.addLayout(row_sess)
        g2 = QGroupBox("—è—á–µ–π–∫–∏ —Ç–∞—Ä—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º")
        gl2 = QGridLayout(g2)
        self.cell_labels_b = []
        for i, name in enumerate(["–ö—Ä–∞—Å–Ω—ã–π", "–ó–µ–ª—ë–Ω—ã–π", "–°–∏–Ω–∏–π", "–ë—Ä–∞–∫"]):
            gl2.addWidget(QLabel(name), i, 0)
            lb = QLabel("—Å–≤–æ–±–æ–¥–Ω–∞")
            self.cell_labels_b.append(lb)
            gl2.addWidget(lb, i, 1)
            btn_nc = QPushButton("–Ω–æ–≤–∞—è —è—á–µ–π–∫–∞")
            btn_nc.clicked.connect(lambda checked, idx=i: self.new_cell_b(idx))
            gl2.addWidget(btn_nc, i, 2)
        lay.addWidget(g2)
        self.btn_start_points_b = QPushButton("–Ω–∞—á–∞—Ç—å –¥–≤–∏–∂–µ–Ω–∏–µ –ø–æ –∑–∞–¥–∞–Ω–Ω—ã–º —Ç–æ—á–∫–∞–º")
        self.btn_start_points_b.clicked.connect(self.start_movement_by_points_b)
        lay.addWidget(self.btn_start_points_b)
        lay.addWidget(QLabel("–õ–æ–≥–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–µ–∂–∏–º–∞"))
        self.log_edit_b = QTextEdit()
        self.log_edit_b.setReadOnly(True)
        self.log_edit_b.setMaximumHeight(120)
        lay.addWidget(self.log_edit_b)
        lay.addStretch()
        return w

    def _build_tab_c(self):
        w = QWidget()
        lay = QVBoxLayout(w)
        g = QGroupBox("–ú–æ–¥—É–ª—å –∫–∞–º–µ—Ä—ã")
        gl = QVBoxLayout(g)
        self.video_label_c = QLabel("–ù–∞–∂–º–∏—Ç–µ ¬´–°—Ç–∞—Ä—Ç –∫–∞–º–µ—Ä—ã¬ª –¥–ª—è –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–∞")
        self.video_label_c.setObjectName("videoLabel")
        self.video_label_c.setMinimumSize(640, 480)
        self.video_label_c.setStyleSheet("background: #222; color: #888;")
        self.video_label_c.setAlignment(Qt.AlignCenter)
        gl.addWidget(self.video_label_c)
        row_cam = QHBoxLayout()
        self.btnStartCam = QPushButton("–°—Ç–∞—Ä—Ç –∫–∞–º–µ—Ä—ã")
        self.btnStartCam.setObjectName("btnStartCam")
        self.btnStartCam.clicked.connect(self.start_camera)
        row_cam.addWidget(self.btnStartCam)
        gl.addLayout(row_cam)
        lay.addWidget(g)
        row_d = QHBoxLayout()
        self.check_detect_c = QCheckBox("–ù–∞—á–∞—Ç—å –¥–µ—Ç–µ–∫—Ü–∏—é –æ–±—ä–µ–∫—Ç–æ–≤")
        self.check_detect_c.stateChanged.connect(self.toggle_detect_c)
        row_d.addWidget(self.check_detect_c)
        self.check_defect_c = QCheckBox("–î–µ—Ç–µ–∫—Ü–∏—è –±—Ä–∞–∫–æ–≤–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤")
        self.check_defect_c.stateChanged.connect(lambda s: self.video_worker.set_defect(s == 2))
        row_d.addWidget(self.check_defect_c)
        self.check_yolo_c = QCheckBox("–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π YOLO")
        self.check_yolo_c.setChecked(False)
        self.check_yolo_c.stateChanged.connect(lambda s: self.video_worker.set_use_yolo(s == 2))
        if not HAS_YOLO:
            self.check_yolo_c.setEnabled(False)
            self.check_yolo_c.setToolTip("–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ: pip install ultralytics")
        row_d.addWidget(self.check_yolo_c)
        lay.addLayout(row_d)
        row_cl = QHBoxLayout()
        row_cl.addWidget(QLabel("–ö–ª–∞—Å—Å—ã –¥–µ—Ç–µ–∫—Ü–∏–∏:"))
        self.check_red_c = QCheckBox("–ö—Ä–∞—Å–Ω—ã–π")
        self.check_red_c.setChecked(True)
        self.check_red_c.stateChanged.connect(self.update_classes_c)
        row_cl.addWidget(self.check_red_c)
        self.check_green_c = QCheckBox("–ó–µ–ª—ë–Ω—ã–π")
        self.check_green_c.setChecked(True)
        self.check_green_c.stateChanged.connect(self.update_classes_c)
        row_cl.addWidget(self.check_green_c)
        self.check_blue_c = QCheckBox("–°–∏–Ω–∏–π")
        self.check_blue_c.setChecked(True)
        self.check_blue_c.stateChanged.connect(self.update_classes_c)
        row_cl.addWidget(self.check_blue_c)
        lay.addLayout(row_cl)
        self.check_person_c = QCheckBox("–î–µ—Ç–µ–∫—Ü–∏—è —á–µ–ª–æ–≤–µ–∫–∞ –≤ —Ä–∞–±–æ—á–µ–π –∑–æ–Ω–µ")
        lay.addWidget(self.check_person_c)
        self.person_warning_c = QLabel("")
        self.person_warning_c.setStyleSheet("font-weight: bold; color: red; font-size: 14px;")
        lay.addWidget(self.person_warning_c)
        self.btn_full_auto_c = QPushButton("–ù–∞—á–∞—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –¥–µ—Ç–∞–ª–µ–π")
        self.btn_full_auto_c.clicked.connect(self.start_full_auto_c)
        lay.addWidget(self.btn_full_auto_c)
        lay.addWidget(QLabel("–õ–æ–≥–∏ –ú–æ–¥—É–ª—è –í:"))
        self.log_edit_c = QTextEdit()
        self.log_edit_c.setReadOnly(True)
        self.log_edit_c.setMaximumHeight(120)
        lay.addWidget(self.log_edit_c)
        lay.addStretch()
        return w

    def add_log_b(self, msg):
        self.log_b.append(time_str() + " " + msg)
        self.log_edit_b.setText("\n".join(self.log_b[-200:]))

    def add_log_c(self, msg, highlight=False):
        self.log_c.append(time_str() + " " + msg)
        self.log_edit_c.setText("\n".join(self.log_c[-200:]))
        if highlight:
            self.person_warning_c.setText("‚ö† –ß–µ–ª–æ–≤–µ–∫ –≤ —Ä–∞–±–æ—á–µ–π –∑–æ–Ω–µ, —Å–∏—Å—Ç–µ–º–∞ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞")
        else:
            self.person_warning_c.setText("")

    def add_to_list_b(self, cat):
        self.move_list.append(cat)
        self.list_edit_b.setPlainText(", ".join(self.move_list))

    def del_last_b(self):
        if self.move_list:
            self.move_list.pop()
            self.list_edit_b.setPlainText(", ".join(self.move_list))

    def clear_list_b(self):
        self.move_list.clear()
        self.list_edit_b.setPlainText("")
        self.api.stop()
        self.api.move_to_initial_pose()
        self.auto_by_points_running = False
        self.add_log_b("–°–ø–∏—Å–æ–∫ –æ—á–∏—â–µ–Ω. –†–æ–±–æ—Ç –∑–∞–≤–µ—Ä—à–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–µ –¥–µ–π—Å—Ç–≤–∏–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–∞ —Å—Ç–∞—Ä—Ç.")

    def new_cell_b(self, idx):
        self.cells_filled[idx] = 0
        self.cell_labels_b[idx].setText("–°–≤–æ–±–æ–¥–Ω–∞")
        self.cell_labels_b[idx].setStyleSheet("")

    def save_session_b(self):
        path = self.edit_session_path.text().strip()
        if not path:
            QMessageBox.warning(self, "–ü—É—Ç—å", "–í–≤–µ–¥–∏—Ç–µ –ø—É—Ç—å –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏.")
            return
        if not path.endswith(".txt"):
            path += ".txt"
        try:
            with open(path, "w", encoding="utf-8") as f:
                for i, cat in enumerate(self.move_list):
                    f.write("%s\t%d\n" % (cat, i))
            self.add_log_b("–°–µ—Å—Å–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ " + path)
            QMessageBox.information(self, "–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ", "–°–µ—Å—Å–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞.")
        except Exception as e:
            QMessageBox.critical(self, "–û—à–∏–±–∫–∞", str(e))

    def start_movement_by_points_b(self):
        if self.auto_by_points_running or self.full_auto_running:
            return
        if not self.move_list:
            self.add_log_b("–°–ø–∏—Å–æ–∫ –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –ø—É—Å—Ç.")
            QMessageBox.information(self, "–°–ø–∏—Å–æ–∫ –ø—É—Å—Ç", "–î–æ–±–∞–≤—å—Ç–µ –æ–±—ä–µ–∫—Ç—ã –≤ —Å–ø–∏—Å–æ–∫.")
            return
        self.auto_by_points_running = True
        self.pushButton_4.setEnabled(False)
        for sl in self.sliders_list:
            sl.setEnabled(False)
        self.add_log_b("–†–æ–±–æ—Ç –Ω–∞—á–∞–ª –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã")
        QTimer.singleShot(100, self.run_auto_points_loop_b)

    def run_auto_points_loop_b(self):
        if not self.auto_by_points_running:
            if self.turnon:
                self.pushButton_4.setEnabled(True)
            return
        if not self.move_list:
            self.empty_list_wait_sec += 2
            if self.empty_list_wait_sec >= 5:
                self.auto_by_points_running = False
                self.empty_list_wait_sec = 0
                self.add_log_b("–°–ø–∏—Å–æ–∫ –ø—É—Å—Ç. –û–∂–∏–¥–∞–Ω–∏–µ 5 —Å–µ–∫. –†–æ–±–æ—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–∞ —Å—Ç–∞—Ä—Ç.")
                self.api.move_to_initial_pose()
                self.add_log_b("–†–æ–±–æ—Ç –∑–∞–∫–æ–Ω—á–∏–ª –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã")
                if self.turnon:
                    self.pushButton_4.setEnabled(True)
                return
            QTimer.singleShot(2000, self.run_auto_points_loop_b)
            return
        self.empty_list_wait_sec = 0
        cat = self.move_list[0]
        cat_idx = ["red", "green", "blue", "–±—Ä–∞–∫"].index(cat) if cat in ["red", "green", "blue", "–±—Ä–∞–∫"] else 0
        if self.cells_filled[cat_idx] >= self.cells_max:
            self.add_log_b("–Ø—á–µ–π–∫–∞ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ¬´%s¬ª –∑–∞–ø–æ–ª–Ω–µ–Ω–∞. –û–∂–∏–¥–∞–Ω–∏–µ ¬´–ù–æ–≤–∞—è —è—á–µ–π–∫–∞¬ª." % cat)
            self.cell_labels_b[cat_idx].setText("–ó–∞–ø–æ–ª–Ω–µ–Ω–∞!")
            self.cell_labels_b[cat_idx].setStyleSheet("background: #faa;")
            QTimer.singleShot(2000, self.run_auto_points_loop_b)
            return
        tool = self.api.get_tool_position()
        if tool:
            self.add_log_b("–¢–µ–∫—É—â–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ —Ä–∞–±–æ—á–µ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞: (%s)" % ", ".join([str(round(x, 4)) for x in tool]))
        self.move_list.pop(0)
        self.list_edit_b.setPlainText(", ".join(self.move_list))
        self.cells_filled[cat_idx] += 1
        self.stats_count[cat_idx] += 1
        self.stats_time[cat_idx] = time_str()
        if self.cells_filled[cat_idx] >= self.cells_max:
            self.cell_labels_b[cat_idx].setText("–ó–∞–ø–æ–ª–Ω–µ–Ω–∞!")
            self.cell_labels_b[cat_idx].setStyleSheet("background: #faa;")
        self.add_log_b("*–û–±—ä–µ–∫—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏* %s –ø–µ—Ä–µ–º–µ—â—ë–Ω –≤ —è—á–µ–π–∫—É ‚Ññ%d" % (cat, self.cells_filled[cat_idx]))
        self.tableWidget_2.blockSignals(True)
        self.tableWidget_2.setItem(cat_idx, 0, QTableWidgetItem(str(self.stats_count[cat_idx])))
        self.tableWidget_2.setItem(cat_idx, 1, QTableWidgetItem(self.stats_time[cat_idx]))
        self.tableWidget_2.blockSignals(False)
        QTimer.singleShot(1500, self.run_auto_points_loop_b)

    def on_camera_error(self, msg):
        self.btnStartCam.setText("–°—Ç–∞—Ä—Ç –∫–∞–º–µ—Ä—ã")
        self.add_log_c("–û—à–∏–±–∫–∞: " + msg)
        QMessageBox.warning(self, "–ö–∞–º–µ—Ä–∞", msg + "\n\n–ù–∞ Windows –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å opencv-python –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–∞–º–µ—Ä–∞ –Ω–µ –∑–∞–Ω—è—Ç–∞ –¥—Ä—É–≥–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º.")

    def start_camera(self):
        if self.video_worker.isRunning():
            self.video_worker.set_running(False)
            self.btnStartCam.setText("–°—Ç–∞—Ä—Ç –∫–∞–º–µ—Ä—ã")
            self.add_log_c("–ö–∞–º–µ—Ä–∞ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞")
            return
        if not HAS_OPENCV:
            self.add_log_c("OpenCV –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω. –í—ã–ø–æ–ª–Ω–∏—Ç–µ: pip install opencv-python")
            QMessageBox.warning(self, "–ö–∞–º–µ—Ä–∞", "–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ OpenCV –Ω–µ –Ω–∞–π–¥–µ–Ω–∞.\n–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ: pip install opencv-python")
            return
        new_worker = VideoWorker(self)
        new_worker.frame_ready.connect(self.on_video_frame)
        new_worker.detection_ready.connect(self.on_detection)
        new_worker.camera_error.connect(self.on_camera_error)
        new_worker.set_detect(self.check_detect_c.isChecked())
        new_worker.set_defect(self.check_defect_c.isChecked())
        new_worker.set_use_yolo(self.check_yolo_c.isChecked())
        new_worker.set_classes({
            "red": self.check_red_c.isChecked(),
            "green": self.check_green_c.isChecked(),
            "blue": self.check_blue_c.isChecked(),
        })
        self.video_worker = new_worker
        self.video_worker.set_running(True)
        self.video_worker.start()
        self.btnStartCam.setText("–°—Ç–æ–ø –∫–∞–º–µ—Ä—ã")
        self.add_log_c("–ö–∞–º–µ—Ä–∞ –∑–∞–ø—É—â–µ–Ω–∞ (OpenCV ‚Üí QLabel)")

    def toggle_detect_c(self, state):
        self.video_worker.set_detect(state == 2)

    def update_classes_c(self):
        self.video_worker.set_classes({
            "red": self.check_red_c.isChecked(),
            "green": self.check_green_c.isChecked(),
            "blue": self.check_blue_c.isChecked(),
        })

    def on_video_frame(self, qimg):
        pix = QPixmap.fromImage(qimg)
        lbl_w = self.video_label_c.width()
        lbl_h = self.video_label_c.height()
        if lbl_w > 1 and lbl_h > 1:
            scaled = pix.scaled(lbl_w, lbl_h, Qt.KeepAspectRatioByExpanding, Qt.SmoothTransformation)
            self.video_label_c.setPixmap(scaled)
        else:
            self.video_label_c.setPixmap(pix.scaled(640, 480, Qt.KeepAspectRatio, Qt.SmoothTransformation))

    def on_detection(self, det):
        if det.get("class") and self.video_worker._detect:
            self.add_log_c("–†–∞—Å–ø–æ–∑–Ω–∞–Ω –æ–±—ä–µ–∫—Ç: –∫–ª–∞—Å—Å=%s, IoU=%.2f" % (det["class"], det.get("iou", 0)))
            self.last_detected_class = det.get("class")
            self.no_object_sec = 0

    def start_full_auto_c(self):
        if self.full_auto_running:
            return
        self.full_auto_running = True
        self.pushButton_4.setEnabled(False)
        self.btn_start_points_b.setEnabled(False)
        for sl in self.sliders_list:
            sl.setEnabled(False)
        if not self.video_worker.isRunning():
            self.check_detect_c.setChecked(True)
            self.start_camera()
        self.add_log_c("–ù–∞—á–∞–ª–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏. –û–∂–∏–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞.")
        QTimer.singleShot(5000, self.run_full_auto_loop_c)

    def run_full_auto_loop_c(self):
        if not self.full_auto_running:
            return
        person = self.api.get_person() if not self.api.is_demo_mode() else 0
        if person != 0 and self.check_person_c.isChecked():
            self.api.set_lamp("0001")
            self.add_log_c("–æ–±–Ω–∞—Ä—É–∂–µ–Ω —á–µ–ª–æ–≤–µ–∫ –≤ —Ä–∞–±–æ—á–µ–π –∑–æ–Ω–µ. –¥–µ—Ç–µ–∫—Ü–∏—è –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞.", highlight=True)
            QTimer.singleShot(3000, self.run_full_auto_loop_c)
            return
        self.person_warning_c.setText("")
        if self.last_detected_class:
            cls = self.last_detected_class
            idx = {"red": 0, "green": 1, "blue": 2, "–±—Ä–∞–∫": 3}.get(cls, 0)
            self.add_log_c("–Ω–∞—á–∞–ª–æ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ %s" % cls)
            self.stats_count[idx] += 1
            self.stats_time[idx] = time_str()
            self.tableWidget_2.setItem(idx, 0, QTableWidgetItem(str(self.stats_count[idx])))
            self.tableWidget_2.setItem(idx, 1, QTableWidgetItem(self.stats_time[idx]))
            self.add_log_c("–∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ %s" % cls)
            self.add_log_c("–∫–æ–ª-–≤–æ: –∫—Ä–∞—Å–Ω—ã–π=%d, –∑–µ–ª—ë–Ω—ã–π=%d, —Å–∏–Ω–∏–π=%d, –±—Ä–∞–∫=%d" % tuple(self.stats_count))
            self.tableWidget_2.blockSignals(True)
            self.tableWidget_2.setItem(idx, 0, QTableWidgetItem(str(self.stats_count[idx])))
            self.tableWidget_2.setItem(idx, 1, QTableWidgetItem(self.stats_time[idx]))
            self.tableWidget_2.blockSignals(False)
            self.last_detected_class = None
            self.no_object_sec = 0
        else:
            self.no_object_sec += 5
            if self.no_object_sec >= 20:
                self.add_log_c("–æ–±—ä–µ–∫—Ç–æ–≤ –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏ –Ω–µ—Ç –±–æ–ª–µ–µ 20 —Å–µ–∫,—Ä–æ–±–æ—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–∞ —Å—Ç–∞—Ä—Ç.")
                self.api.move_to_initial_pose()
                self.no_object_sec = 0
        QTimer.singleShot(5000, self.run_full_auto_loop_c)

    def button_click(self):
        self.turnon = not self.turnon
        if self.turnon:
            self.pushButton_10.setText("–í—ã–∫–ª")
            if self.api.connect():
                if self.api.engage():
                    self.color = 1
                    self.api.set_lamp("1000")
                    self.pushButton_3.setEnabled(True)
                    self.pushButton_4.setEnabled(True)
                    self.pushButton.setEnabled(True)
                    self.log.add_logs_with_time("–†–æ–±–æ—Ç –≤–∫–ª—é—á–µ–Ω")
                else:
                    self.log.add_errors("–û—à–∏–±–∫–∞ –≤–∫–ª—é—á–µ–Ω–∏—è –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π")
                    self.api.disengage()
                    self.turnon = False
                    self.pushButton_10.setText("–í–∫–ª")
            else:
                self.log.add_errors("–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Ä–æ–±–æ—Ç—É")
                self.turnon = False
                self.pushButton_10.setText("–í–∫–ª")
        else:
            self.api.conveyer_stop()
            time.sleep(1)
            self.api.disengage()
            self.manual_started = False
            self.pushButton_4.setText("–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã –≤ —Ä—É—á–Ω–æ–º —Ä–µ–∂–∏–º–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è")
            self.pushButton_4.setEnabled(False)
            self.pushButton.setText("–ü–∞—É–∑–∞")
            self.pushButton.setEnabled(False)
            self.pushButton_3.setEnabled(False)
            for sl in self.sliders_list:
                sl.setEnabled(False)
            self.pushButton_10.setText("–í–∫–ª")
            self.color = 0
            self.api.set_lamp("0001")
            self.log.add_logs_with_time("–†–æ–±–æ—Ç –≤—ã–∫–ª—é—á–µ–Ω")

    def change_cords(self, s):
        if s == "–ø–æ –≥—Ä–∞–¥—É—Å–∞–º":
            self.label.setText("J1")
            self.label_2.setText("J2")
            self.label_3.setText("J3")
            self.label_4.setText("J4")
            self.label_5.setText("J5")
            self.label_6.setText("J6")
            self.move_l_mode = False
        elif s == "–ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º":
            self.label.setText("X")
            self.label_2.setText("Y")
            self.label_3.setText("Z")
            self.label_4.setText("Rx")
            self.label_5.setText("Ry")
            self.label_6.setText("Rz")
            self.move_l_mode = True
        if self.manual_started and self.turnon:
            if self.move_l_mode:
                self.api.manual_cart_mode()
            else:
                self.api.manual_joint_mode()

    def button_pause(self):
        if not self.turnon:
            return
        self.paused = not self.paused
        if self.paused:
            self.api.pause()
            self.pushButton.setText("–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å")
            self.color = 3
            self.api.set_lamp("0010")
            self.log.add_logs_with_time("–ü–∞—É–∑–∞")
        else:
            self.api.play()
            self.pushButton.setText("–ü–∞—É–∑–∞")
            self.color = 2
            self.api.set_lamp("0100")
            self.log.add_logs_with_time("–ü—Ä–æ–¥–æ–ª–∂–µ–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ")

    def button_emergency(self):
        self.emergency = True
        self.api.stop()
        self.api.conveyer_stop()
        self.color = 4
        self.api.set_lamp("0001")
        self.log.add_logs_with_time("–ê–≤–∞—Ä–∏–π–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º—ã")
        self.manual_started = False
        self.pushButton_4.setText("–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã –≤ —Ä—É—á–Ω–æ–º —Ä–µ–∂–∏–º–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è")
        for sl in self.sliders_list:
            sl.setEnabled(False)
        self.paused = False
        self.pushButton.setText("–ü–∞—É–∑–∞")
        QMessageBox.warning(self, "–≠–∫—Å—Ç—Ä–µ–Ω–Ω–æ–µ —Ç–æ—Ä–º–æ–∂–µ–Ω–∏–µ", "–°–∏—Å—Ç–µ–º–∞ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞.")

    def button_return_start(self):
        if not self.turnon:
            return
        self.api.move_to_initial_pose()
        self.color = 1
        self.api.set_lamp("1000")
        self.log.add_logs_with_time("–†–æ–±–æ—Ç –Ω–∞ —Å—Ç–∞—Ä—Ç–æ–≤–æ–π –ø–æ–∑–∏—Ü–∏–∏")

    def button_manual(self):
        if not self.turnon:
            return
        self.manual_started = not self.manual_started
        if self.manual_started:
            if self.move_l_mode:
                self.api.manual_cart_mode()
            else:
                self.api.manual_joint_mode()
            self.pushButton_4.setText("–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä—É—á–Ω–æ–π —Ä–µ–∂–∏–º")
            for sl in self.sliders_list:
                sl.setEnabled(True)
            try:
                rads = self.api.get_motor_position_radians()
                if rads and len(rads) >= 6:
                    for i in range(6):
                        deg = round(degrees(rads[i]))
                        while deg > 180:
                            deg -= 360
                        while deg < -180:
                            deg += 360
                        self.motors[i] = deg
                        self.sliders_list[i].setValue(deg)
            except Exception:
                pass
            self.color = 2
            self.api.set_lamp("0100")
            self.log.add_logs_with_time("–†–æ–±–æ—Ç –≤ —Ä–µ–∂–∏–º–µ —Ä—É—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è")
        else:
            self.api.pause()
            self.pushButton_4.setText("–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã –≤ —Ä—É—á–Ω–æ–º —Ä–µ–∂–∏–º–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è")
            for sl in self.sliders_list:
                sl.setEnabled(False)
                sl.setValue(0)
            self.color = 1
            self.api.set_lamp("1000")
            self.log.add_logs_with_time("–†—É—á–Ω–æ–π —Ä–µ–∂–∏–º –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω")

    def button_save_state(self):
        path = self.edit_log_path.text().strip()
        if not path:
            path, _ = QFileDialog.getSaveFileName(self, "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã", "", "–¢–µ–∫—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã (*.txt)")
        if path:
            if not path.endswith(".txt"):
                path += ".txt"
            try:
                lines = [self.log.get_logs()]
                if self.turnon or self.api.is_demo_mode():
                    try:
                        tool = self.api.get_tool_position()
                        rads = self.api.get_motor_position_radians()
                        if tool:
                            lines.append("\n--- –°–æ—Å—Ç–æ—è–Ω–∏–µ –º–∞–Ω–∏–ø—É–ª—è—Ç–æ—Ä–∞ (–ø–æ API) ---")
                            lines.append("–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –†–ò: " + ", ".join([str(round(x, 4)) for x in tool]))
                        if rads:
                            degs = [round(degrees(r)) for r in rads]
                            lines.append("–£–≥–ª—ã –º–æ—Ç–æ—Ä–æ–≤ (¬∞): " + ", ".join(str(d) for d in degs))
                    except Exception:
                        pass
                with open(path, "w", encoding="utf-8") as f:
                    f.write("\n".join(lines))
                self.log.add_logs_with_time("–°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ " + path)
                QMessageBox.information(self, "–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ", "–õ–æ–≥–∏ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–∞–Ω–∏–ø—É–ª—è—Ç–æ—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ —Ñ–∞–π–ª.")
            except Exception as e:
                QMessageBox.critical(self, "–û—à–∏–±–∫–∞", "–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª: " + str(e))
        else:
            QMessageBox.warning(self, "–ü—É—Ç—å", "–í–≤–µ–¥–∏—Ç–µ –ø—É—Ç—å –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–∞ –≤ –ø–æ–ª–µ –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª.")

    def on_stats_count_edited(self, item):
        if item.column() != 0:
            return
        try:
            row = item.row()
            val = int(item.text())
            if val >= 0:
                self.stats_count[row] = val
        except ValueError:
            pass

    def stats_plus(self, row):
        if not self.turnon:
            return
        self.stats_count[row] += 1
        self.stats_time[row] = time_str()
        self.tableWidget_2.blockSignals(True)
        self.tableWidget_2.setItem(row, 0, QTableWidgetItem(str(self.stats_count[row])))
        self.tableWidget_2.setItem(row, 1, QTableWidgetItem(self.stats_time[row]))
        self.tableWidget_2.blockSignals(False)
        tool = self.api.get_tool_position()
        if tool:
            coords = ", ".join([str(round(x, 4)) for x in tool])
            self.log.add_logs_with_time("—Ç–µ–∫—É—â–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ —Ä–∞–±–æ—á–µ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞: (" + coords + ") –ø—Ä–∏ –Ω–∞—á–∞–ª–µ –∏ –æ–∫–æ–Ω—á–∞–Ω–∏–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞")

    def check_gripper(self, state):
        if state == 2:
            self.api.tool_on()
        else:
            self.api.tool_off()

    def check_conveyor(self, state):
        if state == 2:
            self.api.conveyer_start()
        else:
            self.api.conveyer_stop()

    def _set_motor(self, i, p):
        self.motors[i] = p

    def send_velocity(self):
        if not self.manual_started or not self.turnon or self.emergency:
            return
        kp = 0.35
        deadband_deg = 0.5
        max_vel = 0.05
        vel = [0.0] * 6
        try:
            if self.move_l_mode:
                current = self.api.get_tool_position()
                if not current or len(current) < 6:
                    return
                for i in range(6):
                    if i < 3:
                        target_i = 0.24 + (self.motors[i] / 180.0) * 0.2
                    else:
                        target_i = radians(self.motors[i])
                    err = target_i - current[i]
                    if abs(err) < (0.002 if i < 3 else 0.009):
                        continue
                    v = kp * err
                    vel[i] = max(-max_vel, min(max_vel, v))
                self.api.set_cartesian_velocity(vel)
            else:
                current_rad = self.api.get_motor_position_radians()
                if not current_rad or len(current_rad) < 6:
                    return
                for i in range(6):
                    current_deg = degrees(current_rad[i])
                    err_deg = self.motors[i] - current_deg
                    while err_deg > 180:
                        err_deg -= 360
                    while err_deg < -180:
                        err_deg += 360
                    if abs(err_deg) < deadband_deg:
                        continue
                    err_rad = radians(err_deg)
                    v = kp * err_rad
                    vel[i] = max(-max_vel, min(max_vel, v))
                self.api.set_joint_velocity(vel)
        except Exception:
            pass

    def updates(self):
        lamps = [self.label_8, self.label_9, self.label_10, self.label_11]
        cols = (["white"]*4, ["blue","white","white","white"], ["white","green","white","white"], ["white","white","yellow","white"], ["white","white","white","red"])
        for i, lb in enumerate(lamps):
            lb.setStyleSheet("background-color: %s; border: 1px solid #333;" % (cols[self.color][i] if self.color < 5 else "white"))
        if self.turnon or self.api.is_demo_mode():
            try:
                temps = self.api.get_actual_temperature()
                ticks = self.api.get_motor_position_tick()
                rads = self.api.get_motor_position_radians()
                for i in range(6):
                    self.tableWidget.setItem(i, 0, QTableWidgetItem(str(round(temps[i], 1)) if temps else "-"))
                    self.tableWidget.setItem(i, 1, QTableWidgetItem(str(ticks[i]) if ticks else "-"))
                    self.tableWidget.setItem(i, 2, QTableWidgetItem(str(round(rads[i], 4)) if rads else "-"))
                    deg_fact = degrees(rads[i]) if rads and i < len(rads) else 0
                    self.tableWidget.setItem(i, 4, QTableWidgetItem(str(round(deg_fact, 2))))
            except Exception:
                pass
        for i in range(6):
            self.tableWidget.setItem(i, 3, QTableWidgetItem(str(self.motors[i])))
        try:
            tool = self.api.get_tool_position()
            tool_state = self.api.get_tool_state()
            if tool:
                coords = ", ".join([str(round(x, 4)) for x in tool])
                grip = "–ó–∞–∫—Ä—ã—Ç" if tool_state == 1 else "–û—Ç–∫—Ä—ã—Ç"
                self.label_tool_pose.setText("–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: %s | –°—Ö–≤–∞—Ç: %s" % (coords, grip))
        except Exception:
            pass
        try:
            mode = self.api.get_robot_mode()
            interp = self.api.get_actual_state_out()
            if self.emergency:
                self.color = 4
            elif mode == 7 and interp == 3:
                self.api.activate_move_to_start()
                self.color = 3
            elif interp == 1:
                self.color = 2
            elif interp == 2:
                self.color = 3
            elif interp == 0 and not self.manual_started:
                self.color = 1
        except Exception:
            pass

        self.textBrowser.setText(self.log.get_logs())

    def closeEvent(self, event):
        self.video_worker.set_running(False)
        if self.video_worker.isRunning():
            self.video_worker.wait(2000)
        self.api.conveyer_stop()
        time.sleep(1)
        self.api.disengage()
        self.api.set_lamp("0001")
        self.log.add_logs_with_time("–∑–∞–∫—Ä—ã—Ç–∏–µ –æ–∫–Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è")
        event.accept()


def main():
    app = QApplication(sys.argv)
    app.setStyle("Fusion")
    window = Ui_Main()
    window.setWindowTitle("GUI —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∞–Ω–∏–ø—É–ª—è—Ç–æ—Ä–æ–º ‚Äî –ú–æ–¥—É–ª–∏")
    window.resize(1320, 900)
    window.show()
    sys.exit(app.exec_())


if __name__ == "__main__":
    main()

    </script>
        <div class="code-section">
            <div class="code-section-header">ui.py ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (C:\Users\user\PycharmProjects\robots\ui.py)</div>
            <pre class="full-code-block" id="ui-py-code"></pre>
        </div>

        <div class="forum-divider"></div>

        <!-- –ï—â—ë –æ–¥–∏–Ω –¥–ª–∏–Ω–Ω—ã–π –ø–æ—Å—Ç –ø—Ä–æ API -->
        <div id="api" class="post">
            <div class="post-sidebar">
                <div class="post-avatar">üë§</div>
                <div class="post-username">RobotDev</div>
                <div class="post-role">–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫</div>
                <div class="post-date">14 —è–Ω–≤ 2025, 09:15</div>
                <div class="post-messages">–°–æ–æ–±—â–µ–Ω–∏–π: 42</div>
            </div>
            <div class="post-body">
                <h2>API Reference: –∫–ª–∞—Å—Å Ui_Main –∏ –º–µ—Ç–æ–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</h2>
                <p>–í —ç—Ç–æ–π —Ç–µ–º–µ –∫—Ä–∞—Ç–∫–æ –æ–ø–∏—à—É –∫–ª–∞—Å—Å <code>Ui_Main</code> –∏ –µ–≥–æ –º–µ—Ç–æ–¥—ã ‚Äî –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ —Ö–æ—á–µ—Ç —Ä–∞—Å—à–∏—Ä—è—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–ª–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ —Å –¥—Ä—É–≥–∏–º –∫–æ–¥–æ–º. –ö–ª–∞—Å—Å –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç <code>QMainWindow</code> –∏ <code>ui.Ui_MainWindow</code>. –í –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ <code>__init__</code> –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è —Ñ–ª–∞–≥ <code>turnon</code> (—Ä–æ–±–æ—Ç –≤–∫–ª—é—á—ë–Ω/–≤—ã–∫–ª—é—á–µ–Ω), –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è <code>color</code> (–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è 0‚Äì4), –º–∞—Å—Å–∏–≤ <code>motors</code> –∏–∑ —à–µ—Å—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏–π, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è <code>setupUi(self)</code>, –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è —Å–∏–≥–Ω–∞–ª—ã: –∫–Ω–æ–ø–∫–∞ –°—Ç–∞—Ä—Ç/–°—Ç–æ–ø ‚Äî –∫ <code>button_click</code>, –∫–æ–º–±–æ–±–æ–∫—Å ‚Äî –∫ <code>change_cords</code>, —Ç–∞–π–º–µ—Ä —Ä–∞–∑ –≤ 50 –º—Å ‚Äî –∫ <code>updates</code>, –∫–∞–∂–¥—ã–π –∏–∑ —à–µ—Å—Ç–∏ —Å–ª–∞–π–¥–µ—Ä–æ–≤ ‚Äî –∫ <code>mot1</code>‚Äì<code>mot6</code> —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ.</p>
                <p>–ú–µ—Ç–æ–¥ <code>button_click</code> –∏–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç <code>self.turnon</code> –∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–µ–Ω—è–µ—Ç —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ –Ω–∞ ¬´–°—Ç–æ–ø¬ª –∏–ª–∏ ¬´–°—Ç–∞—Ä—Ç¬ª –∏ –≤—ã—Å—Ç–∞–≤–ª—è–µ—Ç <code>color</code> 1 –∏–ª–∏ 0. –ú–µ—Ç–æ–¥ <code>change_cords(self, s)</code> –ø–æ —Å—Ç—Ä–æ–∫–µ <code>s</code> (—Ç–µ–∫—Å—Ç –∏–∑ –∫–æ–º–±–æ–±–æ–∫—Å–∞) –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –ø–æ–¥–ø–∏—Å–∏ –æ—Å–µ–π: –ª–∏–±–æ J1‚ÄìJ6 (–ø–æ –≥—Ä–∞–¥—É—Å–∞–º), –ª–∏–±–æ X, Y, Z, Rx, Ry, Rz (–ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º). –ú–µ—Ç–æ–¥ <code>updates</code> –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–∞–π–º–µ—Ä–æ–º –∫–∞–∂–¥—ã–µ 50 –º—Å: –æ–Ω –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∏–ª–∏ —á–µ—Ç—ã—Ä—ë—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ (label_8‚Äìlabel_11) –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç <code>color</code> (0 ‚Äî –≤—Å–µ –±–µ–ª—ã–µ, 1 ‚Äî —Å–∏–Ω–∏–π –ø–µ—Ä–≤—ã–π, 2 ‚Äî –∑–µ–ª—ë–Ω—ã–π –≤—Ç–æ—Ä–æ–π, 3 ‚Äî –∂—ë–ª—Ç—ã–π —Ç—Ä–µ—Ç–∏–π, 4 ‚Äî –∫—Ä–∞—Å–Ω—ã–π —á–µ—Ç–≤—ë—Ä—Ç—ã–π) –∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è <code>self.motors[0]</code>‚Äì<code>self.motors[5]</code> –≤ —á–µ—Ç–≤—ë—Ä—Ç—É—é –∫–æ–ª–æ–Ω–∫—É —Ç–∞–±–ª–∏—Ü—ã <code>tableWidget</code>. –ú–µ—Ç–æ–¥—ã <code>mot1</code>‚Äì<code>mot6</code> –ø—Ä–∏–Ω–∏–º–∞—é—Ç –æ–¥–∏–Ω –∞—Ä–≥—É–º–µ–Ω—Ç <code>p</code> (–∑–Ω–∞—á–µ–Ω–∏–µ —Å–ª–∞–π–¥–µ—Ä–∞) –∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç –µ–≥–æ –≤ <code>self.motors[0]</code>‚Äì<code>self.motors[5]</code> —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ. –ù–∞ —ç—Ç–æ–º –æ–ø–∏—Å–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ API –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è; –ø–æ–ª–Ω—ã–π –∫–æ–¥ —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª–µ ¬´–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥¬ª –≤—ã—à–µ.</p>
                <div class="post-signature">‚Äî RobotDev. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–≥—É –≤—ã–Ω–µ—Å—Ç–∏ —ç—Ç–æ –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É ¬´–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è¬ª.</div>
            </div>
        </div>
    </div>

    <script>
        (function() {
            

            var uiPy = "# -*- coding: utf-8 -*-\n\n# Form implementation generated from reading ui file 'ui.ui'\n#\n# Created by: PyQt5 UI code generator 5.15.11\n#\n# WARNING: Any manual changes made to this file will be lost when pyuic5 is\n# run again.  Do not edit this file unless you know what you are doing.\n\n\nfrom PyQt5 import QtCore, QtGui, QtWidgets\n\n\nclass Ui_MainWindow(object):\n    def setupUi(self, MainWindow):\n        MainWindow.setObjectName(\"MainWindow\")\n        MainWindow.resize(1297, 845)\n        self.centralwidget = QtWidgets.QWidget(MainWindow)\n        self.centralwidget.setObjectName(\"centralwidget\")\n        self.tableWidget = QtWidgets.QTableWidget(self.centralwidget)\n        self.tableWidget.setGeometry(QtCore.QRect(650, 70, 571, 261))\n        self.tableWidget.setObjectName(\"tableWidget\")\n        self.tableWidget.setColumnCount(4)\n        self.tableWidget.setRowCount(6)\n        item = QtWidgets.QTableWidgetItem()\n        self.tableWidget.setVerticalHeaderItem(0, item)\n        item = QtWidgets.QTableWidgetItem()\n        self.tableWidget.setVerticalHeaderItem(1, item)\n        item = QtWidgets.QTableWidgetItem()\n        self.tableWidget.setVerticalHeaderItem(2, item)\n        item = QtWidgets.QTableWidgetItem()\n        self.tableWidget.setVerticalHeaderItem(3, item)\n        item = QtWidgets.QTableWidgetItem()\n        self.tableWidget.setVerticalHeaderItem(4, item)\n        item = QtWidgets.QTableWidgetItem()\n        self.tableWidget.setVerticalHeaderItem(5, item)\n        item = QtWidgets.QTableWidgetItem()\n        self.tableWidget.setHorizontalHeaderItem(0, item)\n        item = QtWidgets.QTableWidgetItem()\n        self.tableWidget.setHorizontalHeaderItem(1, item)\n        item = QtWidgets.QTableWidgetItem()\n        self.tableWidget.setHorizontalHeaderItem(2, item)\n        item = QtWidgets.QTableWidgetItem()\n        self.tableWidget.setHorizontalHeaderItem(3, item)\n        self.pushButton_2 = QtWidgets.QPushButton(self.centralwidget)\n        self.pushButton_2.setGeometry(QtCore.QRect(470, 10, 261, 51))\n        font = QtGui.QFont()\n        font.setPointSize(11)\n        font.setBold(False)\n        font.setWeight(50)\n        self.pushButton_2.setFont(font)\n        self.pushButton_2.setStyleSheet(\"color:red\")\n        self.pushButton_2.setObjectName(\"pushButton_2\")\n        self.horizontalSlider_5 = QtWidgets.QSlider(self.centralwidget)\n        self.horizontalSlider_5.setGeometry(QtCore.QRect(90, 500, 451, 22))\n        self.horizontalSlider_5.setOrientation(QtCore.Qt.Horizontal)\n        self.horizontalSlider_5.setObjectName(\"horizontalSlider_5\")\n        self.horizontalSlider = QtWidgets.QSlider(self.centralwidget)\n        self.horizontalSlider.setGeometry(QtCore.QRect(90, 200, 451, 22))\n        self.horizontalSlider.setOrientation(QtCore.Qt.Horizontal)\n        self.horizontalSlider.setObjectName(\"horizontalSlider\")\n        self.textBrowser = QtWidgets.QTextBrowser(self.centralwidget)\n        self.textBrowser.setGeometry(QtCore.QRect(20, 610, 571, 171))\n        self.textBrowser.setObjectName(\"textBrowser\")\n        self.horizontalSlider_4 = QtWidgets.QSlider(self.centralwidget)\n        self.horizontalSlider_4.setGeometry(QtCore.QRect(90, 440, 451, 22))\n        self.horizontalSlider_4.setOrientation(QtCore.Qt.Horizontal)\n        self.horizontalSlider_4.setObjectName(\"horizontalSlider_4\")\n        self.horizontalSlider_6 = QtWidgets.QSlider(self.centralwidget)\n        self.horizontalSlider_6.setGeometry(QtCore.QRect(90, 380, 451, 22))\n        self.horizontalSlider_6.setOrientation(QtCore.Qt.Horizontal)\n        self.horizontalSlider_6.setObjectName(\"horizontalSlider_6\")\n        self.pushButton = QtWidgets.QPushButton(self.centralwidget)\n        self.pushButton.setGeometry(QtCore.QRect(120, 10, 101, 51))\n        font = QtGui.QFont()\n        font.setPointSize(10)\n        self.pushButton.setFont(font)\n        self.pushButton.setObjectName(\"pushButton\")\n        self.horizontalSlider_2 = QtWidgets.QSlider(self.centralwidget)\n        self.horizontalSlider_2.setGeometry(QtCore.QRect(90, 260, 451, 22))\n        self.horizontalSlider_2.setOrientation(QtCore.Qt.Horizontal)\n        self.horizontalSlider_2.setObjectName(\"horizontalSlider_2\")\n        self.pushButton_5 = QtWidgets.QPushButton(self.centralwidget)\n        self.pushButton_5.setGeometry(QtCore.QRect(750, 10, 291, 51))\n        font = QtGui.QFont()\n        font.setPointSize(10)\n        self.pushButton_5.setFont(font)\n        self.pushButton_5.setObjectName(\"pushButton_5\")\n        self.pushButton_7 = QtWidgets.QPushButton(self.centralwidget)\n        self.pushButton_7.setGeometry(QtCore.QRect(610, 410, 31, 28))\n        font = QtGui.QFont()\n        font.setPointSize(10)\n        self.pushButton_7.setFont(font)\n        self.pushButton_7.setObjectName(\"pushButton_7\")\n        self.pushButton_3 = QtWidgets.QPushButton(self.centralwidget)\n        self.pushButton_3.setGeometry(QtCore.QRect(240, 10, 211, 51))\n        font = QtGui.QFont()\n        font.setPointSize(10)\n        self.pushButton_3.setFont(font)\n        self.pushButton_3.setObjectName(\"pushButton_3\")\n        self.pushButton_4 = QtWidgets.QPushButton(self.centralwidget)\n        self.pushButton_4.setGeometry(QtCore.QRect(20, 80, 431, 51))\n        font = QtGui.QFont()\n        font.setPointSize(10)\n        self.pushButton_4.setFont(font)\n        self.pushButton_4.setObjectName(\"pushButton_4\")\n        self.tableWidget_2 = QtWidgets.QTableWidget(self.centralwidget)\n        self.tableWidget_2.setGeometry(QtCore.QRect(650, 340, 581, 181))\n        self.tableWidget_2.setObjectName(\"tableWidget_2\")\n        self.tableWidget_2.setColumnCount(3)\n        self.tableWidget_2.setRowCount(4)\n        item = QtWidgets.QTableWidgetItem()\n        self.tableWidget_2.setVerticalHeaderItem(0, item)\n        item = QtWidgets.QTableWidgetItem()\n        self.tableWidget_2.setVerticalHeaderItem(1, item)\n        item = QtWidgets.QTableWidgetItem()\n        self.tableWidget_2.setVerticalHeaderItem(2, item)\n        item = QtWidgets.QTableWidgetItem()\n        self.tableWidget_2.setVerticalHeaderItem(3, item)\n        item = QtWidgets.QTableWidgetItem()\n        self.tableWidget_2.setHorizontalHeaderItem(0, item)\n        item = QtWidgets.QTableWidgetItem()\n        self.tableWidget_2.setHorizontalHeaderItem(1, item)\n        item = QtWidgets.QTableWidgetItem()\n        self.tableWidget_2.setHorizontalHeaderItem(2, item)\n        self.pushButton_8 = QtWidgets.QPushButton(self.centralwidget)\n        self.pushButton_8.setGeometry(QtCore.QRect(610, 450, 31, 28))\n        font = QtGui.QFont()\n        font.setPointSize(10)\n        self.pushButton_8.setFont(font)\n        self.pushButton_8.setObjectName(\"pushButton_8\")\n        self.pushButton_9 = QtWidgets.QPushButton(self.centralwidget)\n        self.pushButton_9.setGeometry(QtCore.QRect(610, 490, 31, 28))\n        font = QtGui.QFont()\n        font.setPointSize(10)\n        self.pushButton_9.setFont(font)\n        self.pushButton_9.setObjectName(\"pushButton_9\")\n        self.pushButton_6 = QtWidgets.QPushButton(self.centralwidget)\n        self.pushButton_6.setGeometry(QtCore.QRect(610, 380, 31, 28))\n        font = QtGui.QFont()\n        font.setPointSize(10)\n        self.pushButton_6.setFont(font)\n        self.pushButton_6.setObjectName(\"pushButton_6\")\n        self.horizontalSlider_3 = QtWidgets.QSlider(self.centralwidget)\n        self.horizontalSlider_3.setGeometry(QtCore.QRect(90, 320, 451, 22))\n        self.horizontalSlider_3.setOrientation(QtCore.Qt.Horizontal)\n        self.horizontalSlider_3.setObjectName(\"horizontalSlider_3\")\n        self.comboBox = QtWidgets.QComboBox(self.centralwidget)\n        self.comboBox.setGeometry(QtCore.QRect(180, 140, 171, 51))\n        font = QtGui.QFont()\n        font.setPointSize(10)\n        self.comboBox.setFont(font)\n        self.comboBox.setObjectName(\"comboBox\")\n        self.comboBox.addItem(\"\")\n        self.comboBox.addItem(\"\")\n        self.label = QtWidgets.QLabel(self.centralwidget)\n        self.label.setGeometry(QtCore.QRect(20, 190, 41, 41))\n        font = QtGui.QFont()\n        font.setPointSize(14)\n        font.setBold(True)\n        font.setWeight(75)\n        self.label.setFont(font)\n        self.label.setObjectName(\"label\")\n        self.label_2 = QtWidgets.QLabel(self.centralwidget)\n        self.label_2.setGeometry(QtCore.QRect(20, 250, 41, 41))\n        font = QtGui.QFont()\n        font.setPointSize(14)\n        font.setBold(True)\n        font.setWeight(75)\n        self.label_2.setFont(font)\n        self.label_2.setObjectName(\"label_2\")\n        self.label_3 = QtWidgets.QLabel(self.centralwidget)\n        self.label_3.setGeometry(QtCore.QRect(20, 310, 41, 41))\n        font = QtGui.QFont()\n        font.setPointSize(14)\n        font.setBold(True)\n        font.setWeight(75)\n        self.label_3.setFont(font)\n        self.label_3.setObjectName(\"label_3\")\n        self.label_4 = QtWidgets.QLabel(self.centralwidget)\n        self.label_4.setGeometry(QtCore.QRect(20, 370, 41, 41))\n        font = QtGui.QFont()\n        font.setPointSize(14)\n        font.setBold(True)\n        font.setWeight(75)\n        self.label_4.setFont(font)\n        self.label_4.setObjectName(\"label_4\")\n        self.label_5 = QtWidgets.QLabel(self.centralwidget)\n        self.label_5.setGeometry(QtCore.QRect(20, 430, 41, 41))\n        font = QtGui.QFont()\n        font.setPointSize(14)\n        font.setBold(True)\n        font.setWeight(75)\n        self.label_5.setFont(font)\n        self.label_5.setObjectName(\"label_5\")\n        self.label_6 = QtWidgets.QLabel(self.centralwidget)\n        self.label_6.setGeometry(QtCore.QRect(20, 490, 41, 41))\n        font = QtGui.QFont()\n        font.setPointSize(14)\n        font.setBold(True)\n        font.setWeight(75)\n        self.label_6.setFont(font)\n        self.label_6.setObjectName(\"label_6\")\n        self.label_7 = QtWidgets.QLabel(self.centralwidget)\n        self.label_7.setGeometry(QtCore.QRect(30, 560, 81, 41))\n        font = QtGui.QFont()\n        font.setPointSize(14)\n        font.setBold(True)\n        font.setWeight(75)\n        self.label_7.setFont(font)\n        self.label_7.setObjectName(\"label_7\")\n        self.checkBox = QtWidgets.QCheckBox(self.centralwidget)\n        self.checkBox.setGeometry(QtCore.QRect(620, 680, 261, 31))\n        font = QtGui.QFont()\n        font.setPointSize(14)\n        self.checkBox.setFont(font)\n        self.checkBox.setObjectName(\"checkBox\")\n        self.checkBox_2 = QtWidgets.QCheckBox(self.centralwidget)\n        self.checkBox_2.setGeometry(QtCore.QRect(620, 740, 251, 21))\n        font = QtGui.QFont()\n        font.setPointSize(14)\n        self.checkBox_2.setFont(font)\n        self.checkBox_2.setObjectName(\"checkBox_2\")\n        self.pushButton_10 = QtWidgets.QPushButton(self.centralwidget)\n        self.pushButton_10.setGeometry(QtCore.QRect(30, 10, 71, 51))\n        font = QtGui.QFont()\n        font.setPointSize(10)\n        self.pushButton_10.setFont(font)\n        self.pushButton_10.setObjectName(\"pushButton_10\")\n        self.label_8 = QtWidgets.QLabel(self.centralwidget)\n        self.label_8.setGeometry(QtCore.QRect(980, 710, 41, 41))\n        self.label_8.setText(\"\")\n        self.label_8.setObjectName(\"label_8\")\n        self.label_9 = QtWidgets.QLabel(self.centralwidget)\n        self.label_9.setGeometry(QtCore.QRect(1050, 710, 41, 41))\n        self.label_9.setText(\"\")\n        self.label_9.setObjectName(\"label_9\")\n        self.label_10 = QtWidgets.QLabel(self.centralwidget)\n        self.label_10.setGeometry(QtCore.QRect(1120, 710, 41, 41))\n        self.label_10.setText(\"\")\n        self.label_10.setObjectName(\"label_10\")\n        self.label_11 = QtWidgets.QLabel(self.centralwidget)\n        self.label_11.setGeometry(QtCore.QRect(1190, 710, 41, 41))\n        self.label_11.setText(\"\")\n        self.label_11.setObjectName(\"label_11\")\n        MainWindow.setCentralWidget(self.centralwidget)\n        self.menubar = QtWidgets.QMenuBar(MainWindow)\n        self.menubar.setGeometry(QtCore.QRect(0, 0, 1297, 26))\n        self.menubar.setObjectName(\"menubar\")\n        MainWindow.setMenuBar(self.menubar)\n        self.statusbar = QtWidgets.QStatusBar(MainWindow)\n        self.statusbar.setObjectName(\"statusbar\")\n        MainWindow.setStatusBar(self.statusbar)\n\n        self.retranslateUi(MainWindow)\n        QtCore.QMetaObject.connectSlotsByName(MainWindow)\n\n    def retranslateUi(self, MainWindow):\n        _translate = QtCore.QCoreApplication.translate\n        MainWindow.setWindowTitle(_translate(\"MainWindow\", \"MainWindow\"))\n        item = self.tableWidget.verticalHeaderItem(0)\n        item.setText(_translate(\"MainWindow\", \"1 –º–æ—Ç–æ—Ä\"))\n        item = self.tableWidget.verticalHeaderItem(1)\n        item.setText(_translate(\"MainWindow\", \"2 –º–æ—Ç–æ—Ä\"))\n        item = self.tableWidget.verticalHeaderItem(2)\n        item.setText(_translate(\"MainWindow\", \"3 –º–æ—Ç–æ—Ä\"))\n        item = self.tableWidget.verticalHeaderItem(3)\n        item.setText(_translate(\"MainWindow\", \"4 –º–æ—Ç–æ—Ä\"))\n        item = self.tableWidget.verticalHeaderItem(4)\n        item.setText(_translate(\"MainWindow\", \"5 –º–æ—Ç–æ—Ä\"))\n        item = self.tableWidget.verticalHeaderItem(5)\n        item.setText(_translate(\"MainWindow\", \"6 –º–æ—Ç–æ—Ä\"))\n        item = self.tableWidget.horizontalHeaderItem(0)\n        item.setText(_translate(\"MainWindow\", \"–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞\"))\n        item = self.tableWidget.horizontalHeaderItem(1)\n        item.setText(_translate(\"MainWindow\", \"—Ç–∏–∫–∏\"))\n        item = self.tableWidget.horizontalHeaderItem(2)\n        item.setText(_translate(\"MainWindow\", \"—Ä–∞–¥–∏–∞–Ω—ã\"))\n        item = self.tableWidget.horizontalHeaderItem(3)\n        item.setText(_translate(\"MainWindow\", \"–≥—Ä–∞–¥—É—Å—ã\"))\n        self.pushButton_2.setText(_translate(\"MainWindow\", \"–≠–∫—Å—Ç—Ä–µ–Ω–Ω–æ–µ —Ç–æ—Ä–º–æ–∂–µ–Ω–∏–µ\"))\n        self.pushButton.setText(_translate(\"MainWindow\", \"–ø–∞—É–∑–∞\"))\n        self.pushButton_5.setText(_translate(\"MainWindow\", \"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã\"))\n        self.pushButton_7.setText(_translate(\"MainWindow\", \"+\"))\n        self.pushButton_3.setText(_translate(\"MainWindow\", \"–í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –Ω–∞ —Å—Ç–∞—Ä—Ç \"))\n        self.pushButton_4.setText(_translate(\"MainWindow\", \"–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã –≤ —Ä—É—á–Ω–æ–º —Ä–µ–∂–∏–º–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è\"))\n        item = self.tableWidget_2.verticalHeaderItem(0)\n        item.setText(_translate(\"MainWindow\", \"–∫—Ä–∞—Å–Ω—ã–π\"))\n        item = self.tableWidget_2.verticalHeaderItem(1)\n        item.setText(_translate(\"MainWindow\", \"–∑–µ–ª–µ–Ω—ã–π\"))\n        item = self.tableWidget_2.verticalHeaderItem(2)\n        item.setText(_translate(\"MainWindow\", \"—Å–∏–Ω–∏–π\"))\n        item = self.tableWidget_2.verticalHeaderItem(3)\n        item.setText(_translate(\"MainWindow\", \"–ë—Ä–∞–∫\"))\n        item = self.tableWidget_2.horizontalHeaderItem(0)\n        item.setText(_translate(\"MainWindow\", \"–∫–æ–ª-–≤–æ\"))\n        item = self.tableWidget_2.horizontalHeaderItem(1)\n        item.setText(_translate(\"MainWindow\", \"–≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è\"))\n        item = self.tableWidget_2.horizontalHeaderItem(2)\n        item.setText(_translate(\"MainWindow\", \"–±—Ä–∞–∫\"))\n        self.pushButton_8.setText(_translate(\"MainWindow\", \"+\"))\n        self.pushButton_9.setText(_translate(\"MainWindow\", \"+\"))\n        self.pushButton_6.setText(_translate(\"MainWindow\", \"+\"))\n        self.comboBox.setItemText(0, _translate(\"MainWindow\", \"–ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º\"))\n        self.comboBox.setItemText(1, _translate(\"MainWindow\", \"–ø–æ –≥—Ä–∞–¥—É—Å–∞–º\"))\n        self.label.setText(_translate(\"MainWindow\", \"X\"))\n        self.label_2.setText(_translate(\"MainWindow\", \"Y\"))\n        self.label_3.setText(_translate(\"MainWindow\", \"Z\"))\n        self.label_4.setText(_translate(\"MainWindow\", \"Rx\"))\n        self.label_5.setText(_translate(\"MainWindow\", \"Ry\"))\n        self.label_6.setText(_translate(\"MainWindow\", \"Rz\"))\n        self.label_7.setText(_translate(\"MainWindow\", \"–õ–æ–≥–∏:\"))\n        self.checkBox.setText(_translate(\"MainWindow\", \"–ó–∞—Ö–≤–∞—Ç(–≤–∫–ª/–≤—ã–∫–ª)\"))\n        self.checkBox_2.setText(_translate(\"MainWindow\", \"–∫–æ–Ω–≤–µ–π–µ—Ä(–≤–∫–ª/–≤—ã–∫–ª)\"))\n        self.pushButton_10.setText(_translate(\"MainWindow\", \"–°—Ç–∞—Ä—Ç\"))\n";

            document.getElementById('main-py-code').textContent = document.getElementById('main-py-raw').textContent;
            document.getElementById('ui-py-code').textContent = uiPy;
        })();
    </script>
</body>
</html>
